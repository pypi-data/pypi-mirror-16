webpackJsonp([9],{0:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}var o=s(1),r=i(o),a=s(12),c=i(a),u=s(89),h=i(u),p=s(91),d=s(251),f=i(d);window.PTL=window.PTL||{},PTL.user={init:function(e){if(void 0!==e.userData){var t=document.querySelector(".js-user-profile-edit"),s=new p.User(e.userData,{urlRoot:l("/xhr/users/")}),i={user:s,appRoot:e.appRoot};c["default"].render(r["default"].createElement(f["default"],i),t);var o=document.querySelectorAll(".js-popup-tweet");[].concat(n(o)).map(function(e){return e.addEventListener("click",function(e){e.preventDefault();var t=500,s=260,i=screen.width/2-t/2,n=screen.height/2-s/2;window.open(e.currentTarget.href,"_blank","width="+t+",height="+s+",left="+i+",top="+n)}),!0})}var a=document.querySelector(".js-last-action"),u=e.lastEvent,d={checkName:u.check_name,checkDisplayName:u.check_display_name,displayName:u.displayname,email:u.email,displayDatetime:u.display_datetime,isoDatetime:u.iso_datetime,type:u.type,translationActionType:u.translation_action_type,unitSource:u.unit_source,unitUrl:u.unit_url,username:u.username};c["default"].render(r["default"].createElement(h["default"],d),a)}}},8:function(e,t,s){var i,n;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function s(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var n=typeof i;if("string"===n||"number"===n)e.push(i);else if(Array.isArray(i))e.push(s.apply(null,i));else if("object"===n)for(var r in i)o.call(i,r)&&i[r]&&e.push(r)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=s:(i=[],n=function(){return s}.apply(t,i),!(void 0!==n&&(e.exports=n)))}()},11:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e){return(e||window).location.toString().split("#",2)[1]||""}function o(e){return decodeURIComponent(e.replace(/\+/g," "))}function r(e){var t={},s=/([^&;=]+)=?([^&;]*)/g,i=e;void 0===i&&(i=n());for(var r=s.exec(i);null!==r;)t[o(r[1])]=o(r[2]),r=s.exec(i);return t}function a(e,t,s,i){var r=/([^&;=]+)=?([^&;]*)/g,a=[],l=i;void 0===l&&(l=n());for(var c=!1,u=r.exec(l);null!==u;){var h=o(u[1]);h===e?(a.push([u[1],encodeURIComponent(t)].join("=")),c=!0):y["default"].inArray(h,s)===-1&&a.push([u[1],u[2]].join("=")),u=r.exec(l)}return c||a.push([encodeURIComponent(e),encodeURIComponent(t)].join("=")),a.join("&")}function l(e,t){var s=void 0;return s=e===t?0:e<t?-1:1}function c(e){return e.replace(/\\t/g,"\t").replace(/\\n/g,"")}function u(e){function t(e){var t='<span class="highlight-escape">%s</span>',s='<span class="highlight-html">&lt;%s&gt;</span>',i={"\r\n":t.replace(/%s/,"\\r\\n")+"<br/>\n","\r":t.replace(/%s/,"\\r")+"<br/>\n","\n":t.replace(/%s/,"\\n")+"<br/>\n","\t":t.replace(/%s/,"\\t"),"&":"&amp;","<":"&lt;",">":"&gt;"},n=i[e];return void 0===n&&(n=s.replace(/%s/,u(e.slice(1,e.length-1)))),n}return e.replace(b,t)}function h(e){function t(e){var t='<span class="translation-space"> </span>';return Array(e.length+1).join(t)}return e.replace(w,t)}function p(e){return h(u(e))}function d(e){var t=Date.now()-e,s=Math.round(Math.abs(t)/1e3),i=Math.round(s/60),n=Math.round(i/60),o=Math.round(n/24),r=Math.round(o/7),a=Math.round(o/365),l=void 0,c=void 0;return a>0?(l=ngettext("A year ago","%s years ago",a),c=[a]):r>0?(l=ngettext("A week ago","%s weeks ago",r),c=[r]):o>0?(l=ngettext("Yesterday","%s days ago",o),c=[o]):n>0?(l=ngettext("An hour ago","%s hours ago",n),c=[n]):i>0&&(l=ngettext("A minute ago","%s minutes ago",i),c=[i]),l?interpolate(l,c):gettext("A few seconds ago")}function f(e,t,s,i){var n=(0,y["default"])(e);n.length&&(n.select2(t),n.on("change",s),n.on("select2-selecting",i))}function m(e,t){for(var s=e.split("."),i=s.pop(),n=t,o=0;o<s.length;o++)n=n[s[o]];for(var r=arguments.length,a=Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];return n[i].apply(this,a)}function g(e,t,s,i){e.toggleClass(t),s>1&&setTimeout(function(){return g(e,t,s-1,i)},i)}Object.defineProperty(t,"__esModule",{value:!0}),t.getHash=n,t.getParsedHash=r,t.updateHashPart=a,t.strCmp=l,t.cleanEscape=c,t.fancyEscape=u,t.fancyHl=p,t.relativeDate=d,t.makeSelectableInput=f,t.executeFunctionByName=m,t.blinkClass=g;var v=s(3),y=i(v);s(26);var b=/<[^<]*?>|\r\n|[\r\n\t&<>]/gm,w=/^ +| +$|[\r\n\t] +| {2,}/gm;t["default"]={blinkClass:g,cleanEscape:c,executeFunctionByName:m,fancyEscape:u,fancyHl:p,getHash:n,getParsedHash:r,makeSelectableInput:f,relativeDate:d,strCmp:l,updateHashPart:a}},16:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},o=s(1),r=i(o),a=s(36),l=i(a),c=s(38),u=i(c),h=s(37),p=i(h),d=r["default"].createClass({displayName:"FormElement",propTypes:{type:r["default"].PropTypes.string,label:r["default"].PropTypes.string.isRequired,name:r["default"].PropTypes.string.isRequired,handleChange:r["default"].PropTypes.func.isRequired,value:r["default"].PropTypes.oneOfType([r["default"].PropTypes.number,r["default"].PropTypes.string]).isRequired,help:r["default"].PropTypes.string,errors:r["default"].PropTypes.array},getDefaultProps:function(){return{type:"text"}},render:function(){var e=this.props.errors,t="id_"+this.props.name,s=this.props.help,i={text:u["default"],email:u["default"],password:u["default"],textarea:u["default"],checkbox:l["default"],radio:l["default"],select:p["default"]}[this.props.type];return r["default"].createElement("div",{className:"field-wrapper"},r["default"].createElement("label",{htmlFor:t},this.props.label),r["default"].createElement(i,n({id:t},this.props)),e&&r["default"].createElement("ul",{className:"errorlist"},e.map(function(e,t){return r["default"].createElement("li",{key:t},e)})),s&&r["default"].createElement("span",{className:"helptext"},s))}});t["default"]=d},21:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FormMixin=void 0;var n=s(6),o=i(n),r=s(53),a=i(r),l=t.FormMixin={mixins:[a["default"]],getInitialState:function(){return{isDirty:!1}},handleChange:function(e,t){var s=o["default"].extend({},this.state.formData);s[e]=t;var i=!o["default"].isEqual(s,this.initialData);this.setState({isDirty:i,formData:s})},handleFormSuccess:function(){this.clearValidation(),this.initialData=o["default"].extend({},this.state.formData),this.setState({isDirty:!1}),this.handleSuccess&&this.handleSuccess(this.getResource())},handleFormError:function(e){this.validateResponse(e),this.handleError&&this.handleError(e)}};t["default"]=l},23:function(e,t,s){/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
function i(){for(var e,t="",s=0;s<arguments.length;s++)if(e=arguments[s])if("string"==typeof e||"number"==typeof e)t+=" "+e;else if("[object Array]"===Object.prototype.toString.call(e))t+=" "+i.apply(null,e);else if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&e[n]&&(t+=" "+n);return t.substr(1)}var n,o;"undefined"!=typeof e&&e.exports&&(e.exports=i),n=[],o=function(){return i}.apply(t,n),!(void 0!==o&&(e.exports=o))},26:function(e,t){!function(e){"undefined"==typeof e.fn.each2&&e.fn.extend({each2:function(t){for(var s=e([0]),i=-1,n=this.length;++i<n&&(s.context=s[0]=this[i])&&t.call(s[0],i,s)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function s(e,t){for(var s=0,i=t.length;s<i;s+=1)if(n(e,t[s]))return s;return-1}function i(){var t=e(L);t.appendTo("body");var s={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),s}function n(e,s){return e===s||e!==t&&s!==t&&(null!==e&&null!==s&&(e.constructor===String?e+""==s+"":s.constructor===String&&s+""==e+""))}function o(t,s){var i,n,o;if(null===t||t.length<1)return[];for(i=t.split(s),n=0,o=i.length;n<o;n+=1)i[n]=e.trim(i[n]);return i}function r(e){return e.outerWidth(!1)-e.width()}function a(s){var i="keyup-change-value";s.on("keydown",function(){e.data(s,i)===t&&e.data(s,i,s.val())}),s.on("keyup",function(){var n=e.data(s,i);n!==t&&s.val()!==n&&(e.removeData(s,i),s.trigger("keyup-change"))})}function l(s){s.on("mousemove",function(s){var i=D;i!==t&&i.x===s.pageX&&i.y===s.pageY||e(s.target).trigger("mousemove-filtered",s)})}function c(e,s,i){i=i||t;var n;return function(){var t=arguments;window.clearTimeout(n),n=window.setTimeout(function(){s.apply(i,t)},e)}}function u(e){var t,s=!1;return function(){return s===!1&&(t=e(),s=!0),t}}function h(e,t){var i=c(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){s(e.target,t.get())>=0&&i(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,s=e[0],i=e.val().length;e.focus(),e.is(":visible")&&s===document.activeElement&&(s.setSelectionRange?s.setSelectionRange(i,i):s.createTextRange&&(t=s.createTextRange(),t.collapse(!1),t.select()))},0)}function d(t){t=e(t)[0];var s=0,i=0;if("selectionStart"in t)s=t.selectionStart,i=t.selectionEnd-s;else if("selection"in document){t.focus();var n=document.selection.createRange();i=document.selection.createRange().text.length,n.moveStart("character",-t.value.length),s=n.text.length-i}return{offset:s,length:i}}function f(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function g(t){if(!R){var s=t[0].currentStyle||window.getComputedStyle(t[0],null);R=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:s.fontSize,fontFamily:s.fontFamily,fontStyle:s.fontStyle,fontWeight:s.fontWeight,letterSpacing:s.letterSpacing,textTransform:s.textTransform,whiteSpace:"nowrap"}),R.attr("class","select2-sizer"),e("body").append(R)}return R.text(t.val()),R.width()}function v(t,s,i){var n,o,r=[];n=t.attr("class"),n&&(n=""+n,e(n.split(" ")).each2(function(){0===this.indexOf("select2-")&&r.push(this)})),n=s.attr("class"),n&&(n=""+n,e(n.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&r.push(this))})),t.attr("class",r.join(" "))}function y(e,t,s,i){var n=e.toUpperCase().indexOf(t.toUpperCase()),o=t.length;return n<0?void s.push(i(e)):(s.push(i(e.substring(0,n))),s.push("<span class='select2-match'>"),s.push(i(e.substring(n,n+o))),s.push("</span>"),void s.push(i(e.substring(n+o,e.length))))}function b(s){var i,n=0,o=null,r=s.quietMillis||100,a=s.url,l=this;return function(c){window.clearTimeout(i),i=window.setTimeout(function(){n+=1;var i=n,r=s.data,u=a,h=s.transport||e.fn.select2.ajaxDefaults.transport,p={type:s.type||"GET",cache:s.cache||!1,jsonpCallback:s.jsonpCallback||t,dataType:s.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,p);r=r?r.call(l,c.term,c.page,c.context):null,u="function"==typeof u?u.call(l,c.term,c.page,c.context):u,null!==o&&o.abort(),s.params&&(e.isFunction(s.params)?e.extend(d,s.params.call(l)):e.extend(d,s.params)),e.extend(d,{url:u,dataType:s.dataType,data:r,success:function(e){if(!(i<n)){var t=s.results(e,c.page);c.callback(t)}}}),o=h.call(l,d)},r)}}function w(t){var s,i,n=t,o=function(e){return""+e.text};e.isArray(n)&&(i=n,n={results:i}),e.isFunction(n)===!1&&(i=n,n=function(){return i});var r=n();return r.text&&(o=r.text,e.isFunction(o)||(s=r.text,o=function(e){return e[s]})),function(t){var s,i=t.term,r={results:[]};return""===i?void t.callback(n()):(s=function(n,r){var a,l;if(n=n[0],n.children){a={};for(l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);a.children=[],e(n.children).each2(function(e,t){s(t,a.children)}),(a.children.length||t.matcher(i,o(a),n))&&r.push(a)}else t.matcher(i,o(n),n)&&r.push(n)},e(n().results).each2(function(e,t){s(t,r.results)}),void t.callback(r))}}function C(s){var i=e.isFunction(s);return function(n){var o=n.term,r={results:[]};e(i?s():s).each(function(){var e=this.text!==t,s=e?this.text:this;(""===o||n.matcher(o,s))&&r.results.push(e?this:{id:this,text:this})}),n.callback(r)}}function T(t,s){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error("formatterName must be a function or a falsy value")}function x(t){return e.isFunction(t)?t():t}function S(t){var s=0;return e.each(t,function(e,t){t.children?s+=S(t.children):s++}),s}function P(e,s,i,o){var r,a,l,c,u,h=e,p=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,c=o.tokenSeparators.length;l<c&&(u=o.tokenSeparators[l],a=e.indexOf(u),!(a>=0));l++);if(a<0)break;if(r=e.substring(0,a),e=e.substring(a+u.length),r.length>0&&(r=o.createSearchChoice(r,s),r!==t&&null!==r&&o.id(r)!==t&&null!==o.id(r))){for(p=!1,l=0,c=s.length;l<c;l++)if(n(o.id(r),o.id(s[l]))){p=!0;break}p||i(r)}}return h!==e?e:void 0}function E(t,s){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,s),i}if(window.Select2===t){var O,k,_,M,N,R,D,A,I,O={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case O.SHIFT:case O.CTRL:case O.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123}},L="<div class='select2-measure-scrollbar'></div>";A=e(document),N=function(){var e=1;return function(){return e++}}(),A.on("mousemove",function(e){D={x:e.pageX,y:e.pageY}}),k=E(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(s){var n,o,r,c,p=".select2-results";this.opts=s=this.prepareOpts(s),this.id=s.id,s.element.data("select2")!==t&&null!==s.element.data("select2")&&this.destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(s.element.attr("id")||"autogen"+N()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=u(function(){return s.element.closest("body")}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(x(s.containerCss)),this.container.addClass(x(s.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(x(s.dropdownCssClass)),this.dropdown.data("select2",this),this.results=n=this.container.find(p),this.search=o=this.container.find("input.select2-input"),this.resultsPage=0,this.context=null,this.initContainer(),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",p,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",p,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&n.mousewheel(function(e,t,s,i){var o=n.scrollTop();i>0&&o-i<=0?(n.scrollTop(0),f(e)):i<0&&n.get(0).scrollHeight-n.scrollTop()+i<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),f(e))}),a(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",p,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==s.maximumInputLength&&this.search.attr("maxlength",s.maximumInputLength);var r=s.element.prop("disabled");r===t&&(r=!1),this.enable(!r);var c=s.element.prop("readonly");c===t&&(c=!1),this.readonly(c),I=I||i(),this.autofocus=s.element.prop("autofocus"),s.element.prop("autofocus",!1),this.autofocus&&this.focus()},destroy:function(){var e=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeClass("select2-offscreen").removeData("select2").off(".select2").attr({tabindex:this.elementTabIndex}).prop("autofocus",this.autofocus||!1).show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:n(e.attr("locked"),"locked")}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(s){var i,r,a,l,c=this;if(i=s.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=r=s.element),r&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in s)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),s=e.extend({},{populateResults:function(i,n,o){var r,a=this.opts.id;(r=function(i,n,l){var u,h,p,d,f,m,g,v,y,b;for(i=s.sortResults(i,n,o),u=0,h=i.length;u<h;u+=1)p=i[u],f=p.disabled===!0,d=!f&&a(p)!==t,m=p.children&&p.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(d?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(p)),v=e(document.createElement("div")),v.addClass("select2-result-label"),b=s.formatResult(p,v,o,c.opts.escapeMarkup),b!==t&&v.html(b),g.append(v),m&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),r(p.children,y,l+1),g.append(y)),g.data("select2-data",p),n.append(g)})(n,i,0)}},e.fn.select2.defaults,s),"function"!=typeof s.id&&(a=s.id,s.id=function(e){return e[a]}),e.isArray(s.element.data("select2Tags"))){if("tags"in s)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+s.element.attr("id");s.tags=s.element.data("select2Tags")}if(r?(s.query=this.bind(function(s){var n,o,r,a={results:[],more:!1},l=s.term;r=function(e,t){var i;e.is("option")?s.matcher(l,e.text(),e)&&t.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(e,t){r(t,i.children)}),i.children.length>0&&t.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(o=n[0],""===e(o).text()&&(n=n.not(o))),n.each2(function(e,t){r(t,a.results)}),s.callback(a)}),s.id=function(e){return e.id},s.formatResultCssClass=function(e){return e.css}):"query"in s||("ajax"in s?(l=s.element.data("ajax-url"),l&&l.length>0&&(s.ajax.url=l),s.query=b.call(s.element,s.ajax)):"data"in s?s.query=w(s.data):"tags"in s&&(s.query=C(s.tags),s.createSearchChoice===t&&(s.createSearchChoice=function(e){return{id:e,text:e}}),s.initSelection===t&&(s.initSelection=function(t,i){var r=[];e(o(t.val(),s.separator)).each(function(){var t=this,i=this,o=s.tags;e.isFunction(o)&&(o=o()),e(o).each(function(){if(n(this.id,t))return i=this.text,!1}),r.push({id:t,text:i})}),i(r)}))),"function"!=typeof s.query)throw"query function not defined for Select2 "+s.element.attr("id");return s},monitorSource:function(){var e,s=this.opts.element;s.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,i=s.prop("disabled");i===t&&(i=!1),this.enable(!i);var e=s.prop("readonly");e===t&&(e=!1),this.readonly(e),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(x(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(this.opts.dropdownCssClass))}),s.on("propertychange.select2 DOMAttrModified.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(s.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var s=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(s),!s.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){return e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface(),!0)},readonly:function(e){return e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,s,i,n,o=this.dropdown,r=this.container.offset(),a=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=o.outerHeight(!1),u=e(window).scrollLeft()+e(window).width(),h=e(window).scrollTop()+e(window).height(),p=r.top+a,d=r.left,f=p+c<=h,m=r.top-c>=this.body().scrollTop(),g=o.outerWidth(!1),v=d+g<=u,y=o.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(n=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),g=o.outerWidth(!1)+(n.scrollHeight===n.clientHeight?0:I.width),g>l?l=g:g=l,v=d+g<=u):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),p-=t.top,d-=t.left),y?(s=!0,!m&&f&&(s=!1)):(s=!1,!f&&m&&(s=!0)),v||(d=r.left+l-g),s?(p=r.top-c,this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=e.extend({top:p,left:d,width:l},x(this.opts.dropdownCss)),o.css(i)},shouldOpen:function(){var t;return!this.opened()&&(this._enabled!==!1&&this._readonly!==!0&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){function t(){return{width:Math.max(document.documentElement.scrollWidth,e(window).width()),height:Math.max(document.documentElement.scrollHeight,e(window).height())}}var s,i=this.containerId,n="scroll."+i,o="resize."+i,r="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),s=e("#select2-drop-mask"),0==s.length&&(s=e(document.createElement("div")),s.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),s.hide(),s.appendTo(this.body()),s.on("mousedown touchstart",function(t){var s,i=e("#select2-drop");i.length>0&&(s=i.data("select2"),s.opts.selectOnBlur&&s.selectHighlighted({noFocus:!0}),s.close(),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==s[0]&&this.dropdown.before(s),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),s.css(t()),s.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var a=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+n+" "+r,function(s){e("#select2-drop-mask").css(t()),a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,s="scroll."+t,i="resize."+t,n="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(s).off(i).off(n)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return x(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,s,i,n,o,r,a,l=this.results;if(s=this.highlight(),!(s<0)){if(0==s)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[s]),n=i.offset().top+i.outerHeight(!0),s===t.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(n=a.offset().top+a.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),n>o&&l.scrollTop(l.scrollTop()+(n-o)),r=i.offset().top-l.offset().top,r<0&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var s=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<s.length;){i+=t;var n=e(s[i]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var i,n,o=this.findHighlightableChoices();return 0===arguments.length?s(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),t<0&&(t=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),i=e(o[t]),i.addClass("select2-highlighted"),this.ensureHighlightVisible(),n=i.data("select2-data"),void(n&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var s=e(t.target).closest(".select2-result-selectable");if(s.length>0&&!s.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(s))}else 0==s.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,s=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,o=this.search.val(),r=this.context;0!==s.length&&(e=s.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(s.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:r,matcher:this.opts.matcher,callback:this.bind(function(e){n.opened()&&(n.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:r}),n.postprocessResults(e,!1,!1),e.more===!0?(s.detach().appendTo(t).text(n.opts.formatLoadMore(i+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):s.remove(),n.positionDropdown(),n.resultsPage=i,n.context=e.context)})})))},tokenize:function(){},updateResults:function(s){function i(){c.scrollTop(0),l.removeClass("select2-active"),h.positionDropdown()}function o(e){c.html(e),i()}var r,a,l=this.search,c=this.results,u=this.opts,h=this,p=l.val(),d=e.data(this.container,"select2-last-term");if((s===!0||!d||!n(p,d))&&(e.data(this.container,"select2-last-term",p),s===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(r=this.data(),e.isArray(r)&&r.length>=f&&T(u.formatSelectionTooBig,"formatSelectionTooBig")))return void o("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(f)+"</li>");if(l.val().length<u.minimumInputLength)return o(T(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>":""),void(s&&this.showSearch(!0));if(u.maximumInputLength&&l.val().length>u.maximumInputLength)return void o(T(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+u.formatInputTooLong(l.val(),u.maximumInputLength)+"</li>":"");u.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+u.formatSearching()+"</li>"),l.addClass("select2-active"),a=this.tokenize(),a!=t&&null!=a&&l.val(a),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(r){var a;return this.opened()?(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==l.val()&&(a=this.opts.createSearchChoice.call(null,l.val(),r.results),a!==t&&null!==a&&h.id(a)!==t&&null!==h.id(a)&&0===e(r.results).filter(function(){return n(h.id(this),h.id(a))}).length&&r.results.unshift(a)),0===r.results.length&&T(u.formatNoMatches,"formatNoMatches")?void o("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"):(c.empty(),h.opts.populateResults.call(this,c,r.results,{term:l.val(),page:this.resultsPage,context:null}),r.more===!0&&T(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(r,s),i(),void this.opts.element.trigger({type:"select2-loaded",data:r}))):void this.search.removeClass("select2-active")})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){var t=this.highlight(),s=this.results.find(".select2-highlighted"),i=s.closest(".select2-result").data("select2-data");i&&(this.highlight(t),this.onSelect(i,e))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function s(){var s,i,n,o,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(s=this.opts.element.attr("style"),s!==t)for(i=s.split(";"),o=0,r=i.length;o<r;o+=1)if(n=i[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==n&&n.length>=1)return n[1];return s=this.opts.element.css("width"),s&&s.length>0?s:"resolve"===this.opts.width?0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=s.call(this);null!==i&&this.container.css("width",i)}}),_=E(k,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,s;this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),t=this.search.get(0),t.createTextRange&&(s=t.createTextRange(),s.collapse(!1),s.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var t,s=this.container,i=this.dropdown;this.showSearch(!1),this.selection=t=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+N()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===O.PAGE_UP||e.which===O.PAGE_DOWN)return void f(e);switch(e.which){case O.UP:case O.DOWN:return this.moveHighlight(e.which===O.UP?-1:1),void f(e);case O.ENTER:return this.selectHighlighted(),void f(e);case O.TAB:return void this.selectHighlighted({noFocus:!0});case O.ESC:return this.cancel(e),void f(e)}}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==O.TAB&&!O.isControl(e)&&!O.isFunctionKey(e)&&e.which!==O.ESC)return this.opts.openOnEnter===!1&&e.which===O.ENTER?void f(e):e.which==O.DOWN||e.which==O.UP||e.which==O.ENTER&&this.opts.openOnEnter?(this.open(),void f(e)):e.which==O.DELETE||e.which==O.BACKSPACE?(this.opts.allowClear&&this.clear(),void f(e)):void 0})),a(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){e.stopPropagation(),this.opened()||this.open()})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),f(t)})),i.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){f(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");t&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t})))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.updateSelection([]),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==t&&null!==s&&(e.updateSelection(s),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find(":selected");t(s.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(s,i){var o=s.val(),r=null;t.query({matcher:function(e,s,i){var a=n(o,t.id(i));return a&&(r=i),a},callback:e.isFunction(i)?function(){i(r)}:e.noop})}),t},getPlaceholder:function(){return this.select&&""!==this.select.find("option").first().text()?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(""===this.opts.element.val()&&e!==t){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,s){var i=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){if(n(o.id(t.data("select2-data")),o.opts.element.val()))return i=e,!1}),s!==!1&&this.highlight(i),t===!0&&this.showSearchInput===!1){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(S(e.results)>=r)}},showSearch:function(t){this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t)},onSelect:function(e,t){if(this.triggerSelect(e)){var s=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.close(),t&&t.noFocus||this.selection.focus(),n(s,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var s,i=this.selection.find("span");this.selection.data("select2-data",e),i.empty(),s=this.opts.formatSelection(e,i),s!==t&&i.append(this.opts.escapeMarkup(s)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,s=!1,i=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(s=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return i=n.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),s&&this.triggerChange({added:i,removed:o});else{if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");if(!e&&0!==e)return void this.clear(s);this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){n.opts.element.val(e?n.id(e):""),n.updateSelection(e),n.setPlaceholder(),s&&n.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e,s){var i;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),
i):void(e&&""!==e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),s&&this.triggerChange({added:e,removed:i})):this.clear(s))}}),M=E(k,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find(":selected").each2(function(e,t){i.push(s.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(s,i){var r=o(s.val(),t.separator),a=[];t.query({matcher:function(s,i,o){var l=e.grep(r,function(e){return n(e,t.id(o))}).length;return l&&a.push(o),l},callback:e.isFunction(i)?function(){for(var e=[],s=0;s<r.length;s++)for(var o=r[s],l=0;l<a.length;l++){var c=a[l];if(n(o,t.id(c))){e.push(c),a.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},initContainer:function(){var t,s=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(s);var i=this;this.selection.on("mousedown",".select2-search-choice",function(t){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+N()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var s=t.find(".select2-search-choice-focus"),i=s.prev(".select2-search-choice:not(.select2-locked)"),n=s.next(".select2-search-choice:not(.select2-locked)"),o=d(this.search);if(s.length&&(e.which==O.LEFT||e.which==O.RIGHT||e.which==O.BACKSPACE||e.which==O.DELETE||e.which==O.ENTER)){var r=s;return e.which==O.LEFT&&i.length?r=i:e.which==O.RIGHT?r=n.length?n:null:e.which===O.BACKSPACE?(this.unselect(s.first()),this.search.width(10),r=i.length?i:n):e.which==O.DELETE?(this.unselect(s.first()),this.search.width(10),r=n.length?n:null):e.which==O.ENTER&&(r=null),this.selectChoice(r),f(e),void(r&&r.length||this.open())}if((e.which===O.BACKSPACE&&1==this.keydowns||e.which==O.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void f(e);if(this.selectChoice(null),this.opened())switch(e.which){case O.UP:case O.DOWN:return this.moveHighlight(e.which===O.UP?-1:1),void f(e);case O.ENTER:return this.selectHighlighted(),void f(e);case O.TAB:return void this.selectHighlighted({noFocus:!0});case O.ESC:return this.cancel(e),void f(e)}if(e.which!==O.TAB&&!O.isControl(e)&&!O.isFunctionKey(e)&&e.which!==O.BACKSPACE&&e.which!==O.ESC){if(e.which===O.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==O.PAGE_UP&&e.which!==O.PAGE_DOWN||f(e),e.which===O.ENTER&&f(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("mousedown",s,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",s,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==t&&null!==s&&(e.updateSelection(s),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),s=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(s>0?s:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],n=[],o=this;e(t).each(function(){s(o.id(this),i)<0&&(i.push(o.id(this)),n.push(this))}),t=n,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),!this.select&&this.opts.closeOnSelect||this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(s){var i,n=!s.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),a=n?o:r,l=this.id(s),c=this.getVal();i=this.opts.formatSelection(s,a.find("div")),i!=t&&a.find("div").replaceWith("<div title='"+this.opts.escapeMarkup(i)+"'>"+this.opts.escapeMarkup(i)+"</div>"),n&&a.find(".select2-search-choice-close").on("mousedown",f).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),f(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",s),a.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(e){var t,i,n=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),t&&(i=s(this.id(t),n),i>=0&&(n.splice(i,1),this.setVal(n),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(e,t,i){var n=this.getVal(),o=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;o.each2(function(e,t){var i=a.id(t.data("select2-data"));s(i,n)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),this.highlight()==-1&&i!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&this.results.append("<li class='select2-no-results'>"+a.opts.formatNoMatches(a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-r(this.search)},resizeSearch:function(){var e,t,s,i,n,o=r(this.search);e=g(this.search)+10,t=this.search.offset().left,s=this.selection.width(),i=this.selection.offset().left,n=s-(t-i)-o,n<e&&(n=s-o),n<40&&(n=s-o),n<=0&&(n=e),this.search.width(n)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){s(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),s=0;s<t.length;s++)for(var i=0;i<e.length;i++)n(this.opts.id(t[s]),this.opts.id(e[i]))&&(t.splice(s,1),s--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(s,i){var n,o=this;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!s&&0!==s)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(s),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var s=e(t).map(o.id);o.setVal(s),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(this.buildChangeDetails(n,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],s=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(s.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,s){var i,n,o=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(n=this.data(),t||(t=[]),i=e.map(t,function(e){return o.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),s&&this.triggerChange(this.buildChangeDetails(n,this.data())),void 0)}}),e.fn.select2=function(){var i,n,o,r,a=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","readonly","positionDropdown","data"],c=["val","opened","isFocused","container","data"];return this.each(function(){if(0===a.length||"object"==typeof a[0])i=0===a.length?{}:e.extend({},a[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?r=i.element.prop("multiple"):(r=i.multiple||!1,"tags"in i&&(i.multiple=r=!0)),n=r?new M:new _,n.init(i);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(s(a[0],l)<0)throw"Unknown method: "+a[0];if(o=t,n=e(this).data("select2"),n===t)return;if(o="container"===a[0]?n.container:n[a[0]].apply(n,a.slice(1)),s(a[0],c)>=0)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,s,i){var n=[];return y(e.text,s.term,n,i),n.join("")},formatSelection:function(e,s){return e?e.text:t},sortResults:function(e,t,s){return e},formatResultCssClass:function(e){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var s=t-e.length;return"Please enter "+s+" more character"+(1==s?"":"s")},formatInputTooLong:function(e,t){var s=e.length-t;return"Please delete "+s+" character"+(1==s?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:P,escapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:b,local:w,tags:C},util:{debounce:c,markMatch:y},"class":{"abstract":k,single:_,multi:M}}}}(jQuery)},27:function(e,t,s){var i,n,o;/*!
		Autosize 3.0.16
		license: MIT
		http://www.jacklmoore.com/autosize
	*/
!function(s,r){n=[t,e],i=r,o="function"==typeof i?i.apply(t,n):i,!(void 0!==o&&(e.exports=o))}(this,function(e,t){"use strict";function s(e){function t(){var t=window.getComputedStyle(e,null);f=t.overflowY,"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),d="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(d)&&(d=0),a()}function s(t){var s=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=s,f=t,p&&(e.style.overflowY=t),n()}function i(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function n(){var t=e.style.height,s=i(e),n=document.documentElement&&document.documentElement.scrollTop;e.style.height="auto";var o=e.scrollHeight+d;return 0===e.scrollHeight?void(e.style.height=t):(e.style.height=o+"px",m=e.clientWidth,s.forEach(function(e){e.node.scrollTop=e.scrollTop}),void(n&&(document.documentElement.scrollTop=n)))}function a(){var t=e.style.height;n();var i=window.getComputedStyle(e,null);if(i.height!==e.style.height?"visible"!==f&&s("visible"):"hidden"!==f&&s("hidden"),t!==e.style.height){var o=r("autosize:resized");e.dispatchEvent(o)}}var l=void 0===arguments[1]?{}:arguments[1],c=l.setOverflowX,u=void 0===c||c,h=l.setOverflowY,p=void 0===h||h;if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var d=null,f=null,m=e.clientWidth,g=function(){e.clientWidth!==m&&a()},v=function(t){window.removeEventListener("resize",g,!1),e.removeEventListener("input",a,!1),e.removeEventListener("keyup",a,!1),e.removeEventListener("autosize:destroy",v,!1),e.removeEventListener("autosize:update",a,!1),o["delete"](e),Object.keys(t).forEach(function(s){e.style[s]=t[s]})}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",v,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",a,!1),window.addEventListener("resize",g,!1),e.addEventListener("input",a,!1),e.addEventListener("autosize:update",a,!1),o.add(e),u&&(e.style.overflowX="hidden",e.style.wordWrap="break-word"),t()}}function i(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=r("autosize:destroy");e.dispatchEvent(t)}}function n(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=r("autosize:update");e.dispatchEvent(t)}}var o="function"==typeof Set?new Set:function(){var e=[];return{has:function(t){return Boolean(e.indexOf(t)>-1)},add:function(t){e.push(t)},"delete":function(t){e.splice(e.indexOf(t),1)}}}(),r=function(e){return new Event(e)};try{new Event("test")}catch(a){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(l=function(e){return e},l.destroy=function(e){return e},l.update=function(e){return e}):(l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return s(e,t)}),e},l.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],n),e}),t.exports=l})},29:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},o=s(1),r=i(o),a=s(7),l=s(11),c=r["default"].createClass({displayName:"TimeSince",propTypes:{dateTime:o.PropTypes.string.isRequired,title:o.PropTypes.string.isRequired},mixins:[a.PureRenderMixin],componentWillMount:function(){this.tickTimer=null,this.tick({refresh:!1})},componentWillReceiveProps:function(e){e.dateTime!==this.props.dateTime&&this.cleanup()},componentWillUnmount:function(){this.cleanup()},cleanup:function(){null!==this.tickTimer&&(clearTimeout(this.tickTimer),this.tickTimer=null)},tick:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{refresh:!0}:arguments[0],s=Date.parse(this.props.dateTime),i=Date.now(),n=Math.round(Math.abs(i-s)/1e3),o=void 0;n<60?o=3e4:n<3600?o=6e4:n<86400&&(o=36e5),void 0!==o&&(this.tickTimer=setTimeout(function(){return e.tick()},o)),t.refresh&&this.forceUpdate()},render:function(){var e=(0,l.relativeDate)(Date.parse(this.props.dateTime));return r["default"].createElement("time",n({className:"extra-item-meta",title:this.props.title,dateTime:this.props.dateTime},this.props),e)}});t["default"]=c},36:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},o=s(1),r=i(o),a=r["default"].createClass({displayName:"FormCheckedInput",propTypes:{handleChange:r["default"].PropTypes.func.isRequired,value:r["default"].PropTypes.bool.isRequired},handleChange:function(e){this.props.handleChange(e.target.name,e.target.checked)},render:function(){return r["default"].createElement("input",n({checked:this.props.value,onChange:this.handleChange},this.props))}});t["default"]=a},37:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},o=s(1),r=i(o),a=s(41),l=i(a),c=r["default"].createClass({displayName:"FormSelectInput",propTypes:{clearAllText:r["default"].PropTypes.string,clearValueText:r["default"].PropTypes.string,handleChange:r["default"].PropTypes.func.isRequired,name:r["default"].PropTypes.string.isRequired,noResultsText:r["default"].PropTypes.string,options:r["default"].PropTypes.array.isRequired,placeholder:r["default"].PropTypes.string,searchPromptText:r["default"].PropTypes.string,value:r["default"].PropTypes.oneOfType([r["default"].PropTypes.number,r["default"].PropTypes.string]).isRequired},getDefaultProps:function(){return{placeholder:gettext("Select..."),noResultsText:gettext("No results found"),clearValueText:gettext("Clear value"),clearAllText:gettext("Clear all"),searchPromptText:gettext("Type to search")}},handleChange:function(e){this.props.handleChange(this.props.name,e)},render:function(){return r["default"].createElement(l["default"],n({onChange:this.handleChange},this.props,{value:this.props.value.toString()}))}});t["default"]=c},38:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},o=s(27),r=i(o),a=s(1),l=i(a),c=l["default"].createClass({displayName:"FormValueInput",propTypes:{handleChange:l["default"].PropTypes.func.isRequired,autosize:l["default"].PropTypes.bool,type:l["default"].PropTypes.string,value:l["default"].PropTypes.string},getDefaultProps:function(){return{autosize:!0}},componentDidMount:function(){"textarea"===this.props.type&&this.props.autosize&&(0,r["default"])(this.refs.textarea)},componentWillUnmount:function(){"textarea"===this.props.type&&this.props.autosize&&r["default"].destroy(this.refs.textarea)},handleChange:function(e){this.props.handleChange(e.target.name,e.target.value)},render:function(){return"textarea"===this.props.type?l["default"].createElement("textarea",n({onChange:this.handleChange,ref:"textarea"},this.props)):l["default"].createElement("input",n({onChange:this.handleChange},this.props))}});t["default"]=c},39:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var s=this[t];s[2]?e.push("@media "+s[2]+"{"+s[1]+"}"):e.push(s[1])}return e.join("")},e}},40:function(e,t,s){"use strict";var i=s(1),n=s(8),o=i.createClass({displayName:"Option",propTypes:{addLabelText:i.PropTypes.string,className:i.PropTypes.string,mouseDown:i.PropTypes.func,mouseEnter:i.PropTypes.func,mouseLeave:i.PropTypes.func,option:i.PropTypes.object.isRequired,renderFunc:i.PropTypes.func},blockEvent:function(e){e.preventDefault(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href):window.location.href=e.target.href)},handleMouseDown:function(e){this.props.mouseDown(this.props.option,e)},handleMouseEnter:function(e){this.props.mouseEnter(this.props.option,e)},handleMouseLeave:function(e){this.props.mouseLeave(this.props.option,e)},render:function(){var e=this.props.option,t=e.create?this.props.addLabelText.replace("{label}",e.label):this.props.renderFunc(e),s=n(this.props.className,e.className);return e.disabled?i.createElement("div",{className:s,onMouseDown:this.blockEvent,onClick:this.blockEvent},t):i.createElement("div",{className:s,style:e.style,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleMouseDown,title:e.title},t)}});e.exports=o},41:function(e,t,s){"use strict";function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},o=s(1),r=s(12),a=s(44),l=s(8),c=s(43),u=s(42),h=s(40),p=0,d=o.createClass({displayName:"Select",propTypes:{addLabelText:o.PropTypes.string,allowCreate:o.PropTypes.bool,asyncOptions:o.PropTypes.func,autoload:o.PropTypes.bool,backspaceRemoves:o.PropTypes.bool,cacheAsyncResults:o.PropTypes.bool,className:o.PropTypes.string,clearAllText:o.PropTypes.string,clearValueText:o.PropTypes.string,clearable:o.PropTypes.bool,delimiter:o.PropTypes.string,disabled:o.PropTypes.bool,filterOption:o.PropTypes.func,filterOptions:o.PropTypes.func,ignoreCase:o.PropTypes.bool,inputProps:o.PropTypes.object,isLoading:o.PropTypes.bool,labelKey:o.PropTypes.string,matchPos:o.PropTypes.string,matchProp:o.PropTypes.string,multi:o.PropTypes.bool,name:o.PropTypes.string,newOptionCreator:o.PropTypes.func,noResultsText:o.PropTypes.string,onBlur:o.PropTypes.func,onChange:o.PropTypes.func,onFocus:o.PropTypes.func,onInputChange:o.PropTypes.func,onOptionLabelClick:o.PropTypes.func,optionComponent:o.PropTypes.func,optionRenderer:o.PropTypes.func,options:o.PropTypes.array,placeholder:o.PropTypes.string,searchable:o.PropTypes.bool,searchingText:o.PropTypes.string,searchPromptText:o.PropTypes.string,singleValueComponent:o.PropTypes.func,value:o.PropTypes.any,valueComponent:o.PropTypes.func,valueKey:o.PropTypes.string,valueRenderer:o.PropTypes.func},getDefaultProps:function(){return{addLabelText:'Add "{label}"?',allowCreate:!1,asyncOptions:void 0,autoload:!0,backspaceRemoves:!0,cacheAsyncResults:!0,className:void 0,clearAllText:"Clear all",clearValueText:"Clear value",clearable:!0,delimiter:",",disabled:!1,ignoreCase:!0,inputProps:{},isLoading:!1,labelKey:"label",matchPos:"any",matchProp:"any",name:void 0,newOptionCreator:void 0,noResultsText:"No results found",onChange:void 0,onInputChange:void 0,onOptionLabelClick:void 0,optionComponent:h,options:void 0,placeholder:"Select...",searchable:!0,searchingText:"Searching...",searchPromptText:"Type to search",singleValueComponent:u,value:void 0,valueComponent:c,valueKey:"value"}},getInitialState:function(){return{isFocused:!1,isLoading:!1,isOpen:!1,options:this.props.options}},componentWillMount:function(){var e=this;this._optionsCache={},this._optionsFilterString="",this._closeMenuIfClickedOutside=function(t){if(e.state.isOpen){var s=r.findDOMNode(e.refs.selectMenuContainer),i=r.findDOMNode(e.refs.control),n=e.clickedOutsideElement(s,t),o=e.clickedOutsideElement(i,t);n&&o&&e.setState({isOpen:!1},e._unbindCloseMenuIfClickedOutside)}},this._bindCloseMenuIfClickedOutside=function(){!document.addEventListener&&document.attachEvent?document.attachEvent("onclick",e._closeMenuIfClickedOutside):document.addEventListener("click",e._closeMenuIfClickedOutside)},this._unbindCloseMenuIfClickedOutside=function(){!document.removeEventListener&&document.detachEvent?document.detachEvent("onclick",e._closeMenuIfClickedOutside):document.removeEventListener("click",e._closeMenuIfClickedOutside)},this.setState(this.getStateFromValue(this.props.value))},componentDidMount:function(){this.props.asyncOptions&&this.props.autoload&&this.autoloadAsyncOptions()},componentWillUnmount:function(){clearTimeout(this._blurTimeout),clearTimeout(this._focusTimeout),this.state.isOpen&&this._unbindCloseMenuIfClickedOutside()},componentWillReceiveProps:function(e){var t=this,s=!1;if(JSON.stringify(e.options)!==JSON.stringify(this.props.options)&&(s=!0,this.setState({options:e.options,filteredOptions:this.filterOptions(e.options)})),e.value!==this.state.value||e.placeholder!==this.props.placeholder||s){var i=function(s){t.setState(t.getStateFromValue(e.value,s&&s.options||e.options,e.placeholder))};this.props.asyncOptions?this.loadAsyncOptions(e.value,{},i):i()}},componentDidUpdate:function(){var e=this;if(!this.props.disabled&&this._focusAfterUpdate&&(clearTimeout(this._blurTimeout),clearTimeout(this._focusTimeout),this._focusTimeout=setTimeout(function(){e.isMounted()&&(e.getInputNode().focus(),e._focusAfterUpdate=!1)},50)),this._focusedOptionReveal){if(this.refs.focused&&this.refs.menu){var t=r.findDOMNode(this.refs.focused),s=r.findDOMNode(this.refs.menu),i=t.getBoundingClientRect(),n=s.getBoundingClientRect();(i.bottom>n.bottom||i.top<n.top)&&(s.scrollTop=t.offsetTop+t.clientHeight-s.offsetHeight)}this._focusedOptionReveal=!1}},focus:function(){this.getInputNode().focus()},clickedOutsideElement:function(e,t){for(var s=t.target?t.target:t.srcElement;null!=s;){if(s===e)return!1;s=s.offsetParent}return!0},getStateFromValue:function(e,t,s){var i=this;t||(t=this.state.options),s||(s=this.props.placeholder),this._optionsFilterString="";var n,o=this.initValuesArray(e,t),r=this.filterOptions(t,o),a=null;return!this.props.multi&&o.length?(n=o[0],a=o[0][this.props.valueKey]):(n=this.getFirstFocusableOption(r),a=o.map(function(e){return e[i.props.valueKey]}).join(this.props.delimiter)),{value:a,values:o,inputValue:"",filteredOptions:r,placeholder:!this.props.multi&&o.length?o[0][this.props.labelKey]:s,focusedOption:n}},getFirstFocusableOption:function(e){for(var t=0;t<e.length;++t)if(!e[t].disabled)return e[t]},initValuesArray:function(e,t){var s=this;return Array.isArray(e)||(e="string"==typeof e?""===e?[]:this.props.multi?e.split(this.props.delimiter):[e]:void 0!==e&&null!==e?[e]:[]),e.map(function(e){if("string"==typeof e||"number"==typeof e){var n;for(var o in t)if(t.hasOwnProperty(o)&&t[o]&&(t[o][s.props.valueKey]===e||"number"==typeof t[o][s.props.valueKey]&&t[o][s.props.valueKey].toString()===e))return t[o];return n={},i(n,s.props.valueKey,e),i(n,s.props.labelKey,e),n}return e})},setValue:function(e,t){(t||void 0===t)&&(this._focusAfterUpdate=!0);var s=this.getStateFromValue(e);s.isOpen=!1,this.fireChangeEvent(s),this.setState(s)},selectValue:function(e){this.props.multi?e&&this.addValue(e):this.setValue(e),this._unbindCloseMenuIfClickedOutside()},addValue:function(e){this.setValue(this.state.values.concat(e))},popValue:function(){this.setValue(this.state.values.slice(0,this.state.values.length-1))},removeValue:function(e){this.setValue(this.state.values.filter(function(t){return t!==e}))},clearValue:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.setValue(null))},resetValue:function(){this.setValue(""===this.state.value?null:this.state.value)},getInputNode:function(){var e=this.refs.input;return this.props.searchable?e:r.findDOMNode(e)},fireChangeEvent:function(e){e.value!==this.state.value&&this.props.onChange&&this.props.onChange(e.value,e.values)},handleMouseDown:function(e){if(!(this.props.disabled||"mousedown"===e.type&&0!==e.button))return e.stopPropagation(),e.preventDefault(),this.state.isOpen&&!this.props.searchable?void this.setState({isOpen:!1},this._unbindCloseMenuIfClickedOutside):void(this.state.isFocused?this.setState({isOpen:!0},this._bindCloseMenuIfClickedOutside):(this._openAfterFocus=!0,this.getInputNode().focus()))},handleMouseDownOnMenu:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault())},handleMouseDownOnArrow:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||this.state.isOpen&&(e.stopPropagation(),e.preventDefault(),this.setState({isOpen:!1},this._unbindCloseMenuIfClickedOutside))},handleInputFocus:function(e){var t=this,s=this.state.isOpen||this._openAfterFocus;this.setState({isFocused:!0,isOpen:s},function(){s?t._bindCloseMenuIfClickedOutside():t._unbindCloseMenuIfClickedOutside()}),this._openAfterFocus=!1,this.props.onFocus&&this.props.onFocus(e)},handleInputBlur:function(e){var t=this,s=r.findDOMNode(this.refs.menu);document.activeElement.isEqualNode(s)||(this._blurTimeout=setTimeout(function(){!t._focusAfterUpdate&&t.isMounted()&&t.setState({inputValue:"",isFocused:!1,isOpen:!1})},50),this.props.onBlur&&this.props.onBlur(e))},handleKeyDown:function(e){if(!this.props.disabled){switch(e.keyCode){case 8:return void(!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue()));case 9:if(e.shiftKey||!this.state.isOpen||!this.state.focusedOption)return;this.selectFocusedOption();break;case 13:if(!this.state.isOpen)return;this.selectFocusedOption();break;case 27:this.state.isOpen?this.resetValue():this.props.clearable&&this.clearValue(e);break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;case 188:if(!this.props.allowCreate||!this.props.multi)return;e.preventDefault(),e.stopPropagation(),this.selectFocusedOption();break;default:return}e.preventDefault()}},_getNewFocusedOption:function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===this.state.focusedOption)return e[t];return this.getFirstFocusableOption(e)},handleInputChange:function(e){if(this._optionsFilterString=e.target.value,this.props.onInputChange&&this.props.onInputChange(e.target.value),this.props.asyncOptions)this.setState({isLoading:!0,inputValue:e.target.value}),this.loadAsyncOptions(e.target.value,{isLoading:!1,isOpen:!0},this._bindCloseMenuIfClickedOutside);else{var t=this.filterOptions(this.state.options);this.setState({isOpen:!0,inputValue:e.target.value,filteredOptions:t,focusedOption:this._getNewFocusedOption(t)},this._bindCloseMenuIfClickedOutside)}},autoloadAsyncOptions:function(){var e=this;this.setState({isLoading:!0}),this.loadAsyncOptions("",{isLoading:!1},function(){e.setValue(e.props.value,!1)})},loadAsyncOptions:function(e,t,s){void 0===e&&(e="");var i=this,n=this._currentRequestId=p++;if(this.props.cacheAsyncResults)for(var o=0;o<=e.length;o++){var r=e.slice(0,o);if(this._optionsCache[r]&&(e===r||this._optionsCache[r].complete)){var a=this._optionsCache[r].options,l=this.filterOptions(a),c={options:a,filteredOptions:l,focusedOption:this._getNewFocusedOption(l)};for(var u in t)t.hasOwnProperty(u)&&(c[u]=t[u]);return this.setState(c),void(s&&s.call(this,c))}}var h=function(o,r){if(o)throw o;if(i.props.cacheAsyncResults&&(i._optionsCache[e]=r),n===i._currentRequestId){var a=i.filterOptions(r.options),l={options:r.options,filteredOptions:a,focusedOption:i._getNewFocusedOption(a)};for(var c in t)t.hasOwnProperty(c)&&(l[c]=t[c]);i.setState(l),s&&s.call(i,l)}},d=this.props.asyncOptions(e,h);d&&"function"==typeof d.then&&d.then(function(e){h(null,e)},function(e){h(e)})},filterOptions:function(e,t){var s=this,i=this._optionsFilterString,n=(t||this.state.values).map(function(e){return e[s.props.valueKey]});if(this.props.filterOptions)return this.props.filterOptions.call(this,e,i,n);var o=function(e){if(this.props.multi&&n.indexOf(e[this.props.valueKey])>-1)return!1;if(this.props.filterOption)return this.props.filterOption.call(this,e,i);var t=String(e[this.props.valueKey]),s=String(e[this.props.labelKey]);return this.props.ignoreCase&&(t=t.toLowerCase(),s=s.toLowerCase(),i=i.toLowerCase()),i&&"start"!==this.props.matchPos?"label"!==this.props.matchProp&&t.indexOf(i)>=0||"value"!==this.props.matchProp&&s.indexOf(i)>=0:"label"!==this.props.matchProp&&t.substr(0,i.length)===i||"value"!==this.props.matchProp&&s.substr(0,i.length)===i};return(e||[]).filter(o,this)},selectFocusedOption:function(){return this.props.allowCreate&&!this.state.focusedOption?this.selectValue(this.state.inputValue):this.state.focusedOption?this.selectValue(this.state.focusedOption):void 0},focusOption:function(e){this.setState({focusedOption:e})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(e){this._focusedOptionReveal=!0;var t=this.state.filteredOptions.filter(function(e){return!e.disabled});if(!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this.state.focusedOption||t["next"===e?0:t.length-1]},this._bindCloseMenuIfClickedOutside);if(t.length){for(var s=-1,i=0;i<t.length;i++)if(this.state.focusedOption===t[i]){s=i;break}var n=t[0];"next"===e&&s>-1&&s<t.length-1?n=t[s+1]:"previous"===e&&(n=s>0?t[s-1]:t[t.length-1]),this.setState({focusedOption:n})}},unfocusOption:function(e){this.state.focusedOption===e&&this.setState({focusedOption:null})},renderOptionLabel:function(e){return e[this.props.labelKey]},buildMenu:function(){var e=this.state.focusedOption?this.state.focusedOption[this.props.valueKey]:null,t=this.props.optionRenderer||this.renderOptionLabel;this.state.filteredOptions.length>0&&(e=null==e?this.state.filteredOptions[0]:e);var s=this.state.filteredOptions;if(this.props.allowCreate&&this.state.inputValue.trim()){var i=this.state.inputValue;s=s.slice();var n=this.props.newOptionCreator?this.props.newOptionCreator(i):{value:i,label:i,create:!0};s.unshift(n)}var r=Object.keys(s).map(function(i){var n=s[i],r=this.state.value===n[this.props.valueKey],a=e===n[this.props.valueKey],c=l({"Select-option":!0,"is-selected":r,"is-focused":a,"is-disabled":n.disabled}),u=a?"focused":null,h=o.createElement(this.props.optionComponent,{key:"option-"+n[this.props.valueKey],className:c,renderFunc:t,mouseDown:this.selectValue,mouseEnter:this.focusOption,mouseLeave:this.unfocusOption,addLabelText:this.props.addLabelText,option:n,ref:u});return h},this);if(r.length)return r;var a,c;return this.isLoading()?(c="Select-searching",a=this.props.searchingText):this.state.inputValue||!this.props.asyncOptions?(c="Select-noresults",a=this.props.noResultsText):(c="Select-search-prompt",a=this.props.searchPromptText),o.createElement("div",{className:c},a)},handleOptionLabelClick:function(e,t){this.props.onOptionLabelClick&&this.props.onOptionLabelClick(e,t)},isLoading:function(){return this.props.isLoading||this.state.isLoading},render:function(){var e=l("Select",this.props.className,{"Select--multi":this.props.multi,"is-searchable":this.props.searchable,"is-open":this.state.isOpen,"is-focused":this.state.isFocused,"is-loading":this.isLoading(),"is-disabled":this.props.disabled,"has-value":this.state.value}),t=[];if(this.props.multi&&this.state.values.forEach(function(e){var s=this.props.valueRenderer||this.renderOptionLabel,i=this.handleOptionLabelClick.bind(this,e),n=this.removeValue.bind(this,e),r=o.createElement(this.props.valueComponent,{key:e[this.props.valueKey],option:e,renderer:s,optionLabelClick:!!this.props.onOptionLabelClick,onOptionLabelClick:i,onRemove:n,disabled:this.props.disabled});t.push(r)},this),!(this.state.inputValue||this.props.multi&&t.length)){var s=this.state.values[0]||null;if(this.props.valueRenderer&&this.state.values.length)t.push(o.createElement(c,{key:0,option:s,renderer:this.props.valueRenderer,disabled:this.props.disabled}));else{var i=o.createElement(this.props.singleValueComponent,{key:"placeholder",value:s,placeholder:this.state.placeholder});t.push(i)}}var r,u,h=this.isLoading()?o.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},o.createElement("span",{className:"Select-loading"})):null,p=this.props.clearable&&this.state.value&&!this.props.disabled&&!this.isLoading()?o.createElement("span",{className:"Select-clear-zone",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onTouchEnd:this.clearValue,onClick:this.clearValue},o.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})):null,d=o.createElement("span",{className:"Select-arrow-zone",onMouseDown:this.handleMouseDownOnArrow},o.createElement("span",{className:"Select-arrow",onMouseDown:this.handleMouseDownOnArrow}));this.state.isOpen&&(u={ref:"menu",className:"Select-menu",onMouseDown:this.handleMouseDownOnMenu},r=o.createElement("div",{ref:"selectMenuContainer",className:"Select-menu-outer"},o.createElement("div",u,this.buildMenu())));var f,m={ref:"input",className:"Select-input "+(this.props.inputProps.className||""),tabIndex:this.props.tabIndex||0,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur};for(var g in this.props.inputProps)this.props.inputProps.hasOwnProperty(g)&&"className"!==g&&(m[g]=this.props.inputProps[g]);return this.props.disabled?this.props.multi&&this.state.values.length||(f=o.createElement("div",{className:"Select-input"}," ")):f=this.props.searchable?o.createElement(a,n({value:this.state.inputValue,onChange:this.handleInputChange,minWidth:"5"},m)):o.createElement("div",m," "),o.createElement("div",{ref:"wrapper",className:e},o.createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:this.state.value,disabled:this.props.disabled}),o.createElement("div",{className:"Select-control",ref:"control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},t,f,h,p,d),r)}});e.exports=d},42:function(e,t,s){"use strict";var i=s(1),n=s(8),o=i.createClass({displayName:"SingleValue",propTypes:{placeholder:i.PropTypes.string,value:i.PropTypes.object},render:function(){var e=n("Select-placeholder",this.props.value&&this.props.value.className);return i.createElement("div",{className:e,style:this.props.value&&this.props.value.style,title:this.props.value&&this.props.value.title},this.props.placeholder)}});e.exports=o},43:function(e,t,s){"use strict";var i=s(1),n=s(8),o=i.createClass({displayName:"Value",propTypes:{disabled:i.PropTypes.bool,onOptionLabelClick:i.PropTypes.func,onRemove:i.PropTypes.func,option:i.PropTypes.object.isRequired,optionLabelClick:i.PropTypes.bool,renderer:i.PropTypes.func},blockEvent:function(e){e.stopPropagation()},handleOnRemove:function(e){this.props.disabled||this.props.onRemove(e)},render:function(){var e=this.props.option.label;return this.props.renderer&&(e=this.props.renderer(this.props.option)),this.props.onRemove||this.props.optionLabelClick?(this.props.optionLabelClick&&(e=i.createElement("a",{className:n("Select-item-label__a",this.props.option.className),onMouseDown:this.blockEvent,onTouchEnd:this.props.onOptionLabelClick,onClick:this.props.onOptionLabelClick,style:this.props.option.style,title:this.props.option.title},e)),i.createElement("div",{className:n("Select-item",this.props.option.className),style:this.props.option.style,title:this.props.option.title},i.createElement("span",{className:"Select-item-icon",onMouseDown:this.blockEvent,onClick:this.handleOnRemove,onTouchEnd:this.handleOnRemove},"×"),i.createElement("span",{className:"Select-item-label"},e))):i.createElement("div",{className:n("Select-value",this.props.option.className),style:this.props.option.style,title:this.props.option.title},e)}});e.exports=o},44:function(e,t,s){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},n=s(1),o={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"pre"},r=("undefined"!=typeof window?function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}().bind(window):void 0,n.createClass({displayName:"AutosizeInput",propTypes:{value:n.PropTypes.any,defaultValue:n.PropTypes.any,onChange:n.PropTypes.func,style:n.PropTypes.object,className:n.PropTypes.string,minWidth:n.PropTypes.oneOfType([n.PropTypes.number,n.PropTypes.string]),inputStyle:n.PropTypes.object,inputClassName:n.PropTypes.string},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(){this.updateInputWidth()},copyInputStyles:function(){if(this.isMounted()&&window.getComputedStyle){var e=window.getComputedStyle(this.refs.input);if(e){var t=this.refs.sizer;if(t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,this.props.placeholder){var s=this.refs.placeholderSizer;s.style.fontSize=e.fontSize,s.style.fontFamily=e.fontFamily,s.style.fontWeight=e.fontWeight,s.style.fontStyle=e.fontStyle,s.style.letterSpacing=e.letterSpacing}}}},updateInputWidth:function(){if(this.isMounted()&&"undefined"!=typeof this.refs.sizer.scrollWidth){var e=void 0;e=this.props.placeholder?Math.max(this.refs.sizer.scrollWidth,this.refs.placeholderSizer.scrollWidth)+2:this.refs.sizer.scrollWidth+2,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}},getInput:function(){return this.refs.input},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},select:function(){this.refs.input.select()},render:function(){var e=this.props.defaultValue||this.props.value||"",t=this.props.style||{};t.display||(t.display="inline-block");var s=i({},this.props.inputStyle);s.width=this.state.inputWidth+"px",s.boxSizing="content-box";var r=this.props.placeholder?n.createElement("div",{ref:"placeholderSizer",style:o},this.props.placeholder):null;return n.createElement("div",{className:this.props.className,style:t},n.createElement("input",i({},this.props,{ref:"input",className:this.props.inputClassName,style:s})),n.createElement("div",{ref:"sizer",style:o},e),r)}}));e.exports=r},47:function(e,t,s){function i(e,t){for(var s=0;s<e.length;s++){var i=e[s],n=u[i.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](i.parts[o]);for(;o<i.parts.length;o++)n.parts.push(r(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(r(i.parts[o],t));u[i.id]={id:i.id,refs:1,parts:a}}}}function n(e){for(var t=[],s={},i=0;i<e.length;i++){var n=e[i],o=n[0],r=n[1],a=n[2],l=n[3],c={css:r,media:a,sourceMap:l};s[o]?s[o].parts.push(c):t.push(s[o]={id:o,parts:[c]})}return t}function o(){var e=document.createElement("style"),t=d();return e.type="text/css",t.appendChild(e),e}function r(e,t){var s,i,n;if(t.singleton){var r=m++;s=f||(f=o()),i=l.bind(null,s,r,!1),n=l.bind(null,s,r,!0)}else s=o(),i=c.bind(null,s),n=function(){s.parentNode.removeChild(s)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}function a(e,t,s){var i=["/** >>"+t+" **/","/** "+t+"<< **/"],n=e.lastIndexOf(i[0]),o=s?i[0]+s+i[1]:"";if(e.lastIndexOf(i[0])>=0){var r=e.lastIndexOf(i[1])+i[1].length;return e.slice(0,n)+o+e.slice(r)}return e+o}function l(e,t,s,i){var n=s?"":i.css;if(e.styleSheet)e.styleSheet.cssText=a(e.styleSheet.cssText,t,n);else{var o=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o);
}}function c(e,t){var s=t.css,i=t.media,n=t.sourceMap;if(n&&"function"==typeof btoa)try{s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(n))+" */",s='@import url("data:text/css;base64,'+btoa(s)+'")'}catch(o){}if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var u={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=h(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),d=h(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,m=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var s=n(e);return i(s,t),function(e){for(var o=[],r=0;r<s.length;r++){var a=s[r],l=u[a.id];l.refs--,o.push(l)}if(e){var c=n(e);i(c,t)}for(var r=0;r<o.length;r++){var l=o[r];if(0===l.refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete u[l.id]}}}}},53:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FormValidationMixin=void 0;var n=s(1),o=i(n),r=t.FormValidationMixin={getInitialState:function(){return{errors:{}}},clearValidation:function(){this.setState({errors:{}})},validateResponse:function(e){var t=JSON.parse(e.responseText);this.setState({errors:t.errors})},renderSingleError:function(e,t){return o["default"].createElement("li",{key:t},e)},renderAllFormErrors:function(){var e=this.state.errors;return e.hasOwnProperty("__all__")?o["default"].createElement("ul",{className:"errorlist errorlist-all"},e.__all__.map(this.renderSingleError)):null}};t["default"]=r},54:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelFormMixin=void 0;var n=s(1),o=i(n),r=s(6),a=i(r),l=s(90),c=i(l),u=s(21),h=i(u),p=t.ModelFormMixin={mixins:[c["default"],h["default"]],propTypes:{model:o["default"].PropTypes.object.isRequired},getInitialState:function(){return this.initialData=a["default"].pick(this.getResource().toJSON(),this.fields),{formData:a["default"].extend({},this.initialData)}},componentDidMount:function(){if(a["default"].isUndefined(this.fields))throw new Error("To use ModelFormMixin, you must define a `fields` property.");if(!a["default"].isArray(this.fields))throw new Error("The `fields` property must be an array.")},getResource:function(){return this.props.model},handleFormSubmit:function(e){e.preventDefault(),this.getResource().save(this.state.formData,{wait:!0}).done(this.handleFormSuccess).error(this.handleFormError)}};t["default"]=p},55:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(6),o=i(n),r={initialize:function(){this.count=0,this.page=0,this.keywords="",this.on("add",this.incrCount),this.on("remove",this.decrCount)},parse:function(e){return this.count=e.count,e.models},comparator:"-id",incrCount:function(){this.count++},decrCount:function(){this.count--},fetchNextPage:function(e){var t=this,s=this.page+1,i=1===s?{}:{p:s},n=""===this.keywords?{}:{q:this.keywords},r=o["default"].extend({},i,n),a={remove:!1,silent:!0,data:r};return o["default"].defaults(a,e),this.fetch(a).done(function(){t.page=s})},search:function(e){var t={};return e!==this.keywords&&(this.setSearch(e),t.reset=!0),this.fetchNextPage(t)},setSearch:function(e){this.keywords=e,this.page=0}};t["default"]=r},56:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){for(var s=[],i=0,n=e,o=[];n;){if(o=/^[^\x25]+/.exec(n),null!==o)s.push(o[0]);else{if(o=/^\x25\(([^\)]+)\)s/.exec(n),null===o)throw new Error("Wrong format");if(o[1]){var r=t[o[1]];a["default"].isValidElement(r)?s.push(a["default"].cloneElement(r,{key:i++})):s.push(r)}}n=n.substring(o[0].length)}return s}function o(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return t?n(gettext(e),t):gettext(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.t=o;var r=s(1),a=i(r)},57:function(e,t){var s={utf8:{stringToBytes:function(e){return s.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(s.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],s=0;s<e.length;s++)t.push(255&e.charCodeAt(s));return t},bytesToString:function(e){for(var t=[],s=0;s<e.length;s++)t.push(String.fromCharCode(e[s]));return t.join("")}}};e.exports=s},66:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(95),o=i(n),r=s(1),a=i(r),c=s(7),u=a["default"].createClass({displayName:"Avatar",propTypes:{email:r.PropTypes.string,label:r.PropTypes.string,size:r.PropTypes.number,src:r.PropTypes.string,title:r.PropTypes.string,username:r.PropTypes.string},mixins:[c.PureRenderMixin],getDefaultProps:function(){return{size:80}},render:function(){var e=this.props.email,t=this.props.label,s=this.props.size,i=this.props.title,n=this.props.username,r=this.props.src;if(e){var c=e;e.indexOf("@")>-1&&(c=(0,o["default"])(e)),r="https://secure.gravatar.com/avatar/"+c+"?s="+s+"&d=mm"}var u=a["default"].createElement("img",{className:"avatar",src:r,height:s,width:s,title:i});return void 0!==n?a["default"].createElement("a",{href:l("/user/"+n+"/")},u,t&&" ",t&&a["default"].createElement("span",{className:"user-name",title:n},t)):u}});t["default"]=u},67:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModalFooter=t.ModalHeader=void 0;var n=s(1),o=i(n),r=s(85),a=i(r),l=s(86),c=i(l),u=t.ModalHeader=function(e){var t=e.children;return o["default"].createElement("div",{className:"lightbox-header"},t)};u.propTypes={children:o["default"].PropTypes.node.isRequired};var h=t.ModalFooter=function(e){var t=e.children;return o["default"].createElement("div",{className:"lightbox-footer"},t)};h.propTypes={children:o["default"].PropTypes.node.isRequired};var p=o["default"].createClass({displayName:"Modal",propTypes:{children:o["default"].PropTypes.node.isRequired,title:o["default"].PropTypes.string,showClose:o["default"].PropTypes.bool,onClose:o["default"].PropTypes.func.isRequired,header:o["default"].PropTypes.func,footer:o["default"].PropTypes.func},getDefaultProps:function(){return{title:"",showClose:!0}},handleClose:function(){this.props.onClose()},renderHeader:function(){if(this.props.header)return o["default"].createElement(u,null,this.props.header());var e=this.props.title&&o["default"].createElement("h3",{className:"lightbox-title"},this.props.title),t=this.props.showClose&&o["default"].createElement("button",{className:"lightbox-close",onClick:this.handleClose},"×");return o["default"].createElement(u,null,e,t)},renderFooter:function(){return this.props.footer?o["default"].createElement(h,null,this.props.footer()):null},renderLayer:function(){return o["default"].createElement(c["default"],this.props,this.renderHeader(),o["default"].createElement("div",{className:"lightbox-content"},this.props.children),this.renderFooter())},render:function(){return o["default"].createElement(a["default"],null,this.renderLayer())}});t["default"]=p},85:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(1),o=i(n),r=s(12),a=i(r),l=o["default"].createClass({displayName:"LayeredComponent",propTypes:{children:o["default"].PropTypes.node.isRequired},componentDidMount:function(){this.layer=document.createElement("div"),document.body.appendChild(this.layer),this.renderLayer()},componentDidUpdate:function(){this.renderLayer()},componentWillUnmount:function(){a["default"].unmountComponentAtNode(this.layer),document.body.removeChild(this.layer)},renderLayer:function(){a["default"].render(this.props.children,this.layer)},render:function(){return null}});t["default"]=l},86:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(23),o=i(n),r=s(1),a=i(r),l=s(92),c=i(l);s(118);var u={lock:"lightbox-lock"},h={ESC:27,TAB:9},p=a["default"].createClass({displayName:"ModalContainer",propTypes:{children:a["default"].PropTypes.node.isRequired,onClose:a["default"].PropTypes.func.isRequired,className:a["default"].PropTypes.string,style:a["default"].PropTypes.object},componentWillMount:function(){this._previousFocus=document.activeElement},componentDidMount:function(){document.body.classList.contains(u.lock)||(this._ownsLock=!0,document.body.classList.add(u.lock),document.addEventListener("keydown",this.handleKeyDown))},componentWillUnmount:function(){this._ownsLock&&(document.body.classList.remove(u.lock),document.removeEventListener("keydown",this.handleKeyDown)),this._previousFocus.focus()},_previousFocus:null,_ownsLock:!1,handleKeyDown:function(e){e.keyCode===h.TAB&&(0,c["default"])(this.refs.body,e),e.keyCode===h.ESC&&this.props.onClose()},render:function(){return a["default"].createElement("div",{className:"lightbox-bg"},a["default"].createElement("div",{className:"lightbox-container"},a["default"].createElement("div",{className:(0,o["default"])("lightbox-body",this.props.className),ref:"body",style:this.props.style,tabIndex:"-1"},this.props.children)))}});t["default"]=p},89:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(1),o=i(n),r=s(7),a=s(66),l=i(a),c=s(29),u=i(c),h=s(56),p=function(e){var t=e.name,s=e.displayName;return o["default"].createElement("a",{href:"#"+t},s)};p.propTypes={name:n.PropTypes.string.isRequired,displayName:n.PropTypes.string.isRequired};var d=function(e){var t=e.sourceText,s=e.url;return o["default"].createElement("i",null,o["default"].createElement("a",{href:s},t))};d.propTypes={sourceText:n.PropTypes.string.isRequired,url:n.PropTypes.string.isRequired};var f=o["default"].createClass({displayName:"UserEvent",propTypes:{displayDatetime:n.PropTypes.string.isRequired,displayName:n.PropTypes.string.isRequired,email:n.PropTypes.string.isRequired,isoDatetime:n.PropTypes.string.isRequired,type:n.PropTypes.number.isRequired,unitSource:n.PropTypes.string.isRequired,unitUrl:n.PropTypes.string.isRequired,checkName:n.PropTypes.string,checkDisplayName:n.PropTypes.string,translationActionType:n.PropTypes.number,username:n.PropTypes.string},mixins:[r.PureRenderMixin],getActionText:function(){var e=this.props.checkName,t=this.props.checkDisplayName,s=this.props.translationActionType,i=this.props.type,n=this.props.unitSource,r=this.props.unitUrl,a=o["default"].createElement(d,{url:r,sourceText:n}),l=void 0;if(void 0!==e&&void 0!==t&&(l=o["default"].createElement(p,{name:e,displayName:t})),2===i)return(0,h.t)("removed translation for %(sourceString)s",{sourceString:a});if(3===i)return(0,h.t)("accepted suggestion for %(sourceString)s",{sourceString:a});if(4===i)return[gettext("uploaded file")];if(6===i)return(0,h.t)("muted %(check)s for %(sourceString)s",{check:l,sourceString:a});if(7===i)return(0,h.t)("unmuted %(check)s for %(sourceString)s",{check:l,sourceString:a});if(8===i)return(0,h.t)("added suggestion for %(sourceString)s",{sourceString:a});if(9===i)return(0,h.t)("rejected suggestion for %(sourceString)s",{sourceString:a});if(1===i||5===i){if(0===s)return(0,h.t)("translated %(sourceString)s",{sourceString:a});if(1===s)return(0,h.t)("edited %(sourceString)s",{sourceString:a});if(2===s)return(0,h.t)("pre-translated %(sourceString)s",{sourceString:a});if(3===s)return(0,h.t)("removed translation for %(sourceString)s",{sourceString:a});if(4===s)return(0,h.t)("reviewed %(sourceString)s",{sourceString:a});if(5===s)return(0,h.t)("marked as needs work %(sourceString)s",{sourceString:a})}return[""]},render:function(){return o["default"].createElement("div",{className:"last-action"},o["default"].createElement(l["default"],{email:this.props.email,label:this.props.displayName,size:20,username:this.props.username})," ",o["default"].createElement("span",{className:"action-text"},this.getActionText())," ",o["default"].createElement(u["default"],{title:this.props.displayDatetime,dateTime:this.props.isoDatetime}))}});t["default"]=f},90:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={componentDidMount:function(){this._boundForceUpdate=this.forceUpdate.bind(this,null),this.getResource().on("all",this._boundForceUpdate,this)},componentWillUnmount:function(){this.getResource().off("all",this._boundForceUpdate)}};t["default"]=s},91:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserSet=t.User=void 0;var n=s(10),o=i(n),r=s(6),a=i(r),c=s(55),u=i(c),h=["nobody","default","system"],p=t.User=o["default"].Model.extend({defaults:{username:"",is_active:!0,password:"",full_name:"",email:"",is_superuser:!1,twitter:"",linkedin:"",website:"",bio:""},initialize:function(e,t){t&&t.urlRoot&&(this.urlRoot=t.urlRoot)},urlRoot:l("/xhr/admin/users/"),getProfileUrl:function(){return l("/user/"+this.get("username")+"/")},getSettingsUrl:function(){return l("/user/"+this.get("username")+"/settings/")},getStatsUrl:function(){return l("/user/"+this.get("username")+"/stats/")},getReportsUrl:function(){return l("/admin/reports/#username="+this.get("username"))},isMeta:function(){return h.indexOf(this.get("username"))!==-1}});t.UserSet=o["default"].Collection.extend(a["default"].extend({},u["default"],{model:p,url:l("/xhr/admin/users/")}))},92:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){var s=(0,r["default"])(e),i=s.indexOf(document.activeElement);(t.shiftKey&&0===i||!t.shiftKey&&i===s.length-1)&&(t.preventDefault(),s[t.shiftKey?s.length-1:0].focus())}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=s(119),r=i(o)},94:function(e,t,s){t=e.exports=s(39)(),t.push([e.id,'.lightbox-lock{overflow:hidden}.lightbox-bg{position:fixed;z-index:498;top:0;left:0;height:100%;width:100%;background:rgba(11,11,11,.8);outline:medium none}.lightbox-container{box-sizing:border-box;position:absolute;z-index:499;left:0;top:0;height:100%;width:100%;padding:0;text-align:center;overflow-x:hidden;overflow-y:auto}.lightbox-container::before{content:\'\';display:inline-block;height:100%;vertical-align:middle}.lightbox-body{position:relative;display:inline-block;vertical-align:middle;margin:0 auto;text-align:left;padding:2em 3em;min-width:255px;font-size:100%}.lightbox-header{margin-bottom:2em}.lightbox-content{margin:1em 0}.lightbox-footer{margin-top:2em;text-align:right}html[dir="rtl"] .lightbox-footer{text-align:left}.lightbox-footer .btn+.btn{margin-left:.5em}html[dir="rtl"] .lightbox-footer .btn+.btn{margin-left:0;margin-right:.5em}.lightbox-close{position:absolute;right:0;top:0;width:44px;height:44px;line-height:44px;text-decoration:none;text-align:center;background-color:transparent;color:rgba(0,0,0,.5);font-style:normal;font-size:28px;font-family:"Arial",monospace;border:0;cursor:pointer}html[dir="rtl"] .lightbox-close{right:auto;left:0}.lightbox-close:hover,.lightbox-close:focus{color:rgba(0,0,0,1)}',""])},95:function(e,t,s){!function(){var t=s(96),i=s(57).utf8,n=s(97),o=s(57).bin,r=function(e,s){e.constructor==String?e=s&&"binary"===s.encoding?o.stringToBytes(e):i.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var a=t.bytesToWords(e),l=8*e.length,c=1732584193,u=-271733879,h=-1732584194,p=271733878,d=0;d<a.length;d++)a[d]=16711935&(a[d]<<8|a[d]>>>24)|4278255360&(a[d]<<24|a[d]>>>8);a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var f=r._ff,m=r._gg,g=r._hh,v=r._ii,d=0;d<a.length;d+=16){var y=c,b=u,w=h,C=p;c=f(c,u,h,p,a[d+0],7,-680876936),p=f(p,c,u,h,a[d+1],12,-389564586),h=f(h,p,c,u,a[d+2],17,606105819),u=f(u,h,p,c,a[d+3],22,-1044525330),c=f(c,u,h,p,a[d+4],7,-176418897),p=f(p,c,u,h,a[d+5],12,1200080426),h=f(h,p,c,u,a[d+6],17,-1473231341),u=f(u,h,p,c,a[d+7],22,-45705983),c=f(c,u,h,p,a[d+8],7,1770035416),p=f(p,c,u,h,a[d+9],12,-1958414417),h=f(h,p,c,u,a[d+10],17,-42063),u=f(u,h,p,c,a[d+11],22,-1990404162),c=f(c,u,h,p,a[d+12],7,1804603682),p=f(p,c,u,h,a[d+13],12,-40341101),h=f(h,p,c,u,a[d+14],17,-1502002290),u=f(u,h,p,c,a[d+15],22,1236535329),c=m(c,u,h,p,a[d+1],5,-165796510),p=m(p,c,u,h,a[d+6],9,-1069501632),h=m(h,p,c,u,a[d+11],14,643717713),u=m(u,h,p,c,a[d+0],20,-373897302),c=m(c,u,h,p,a[d+5],5,-701558691),p=m(p,c,u,h,a[d+10],9,38016083),h=m(h,p,c,u,a[d+15],14,-660478335),u=m(u,h,p,c,a[d+4],20,-405537848),c=m(c,u,h,p,a[d+9],5,568446438),p=m(p,c,u,h,a[d+14],9,-1019803690),h=m(h,p,c,u,a[d+3],14,-187363961),u=m(u,h,p,c,a[d+8],20,1163531501),c=m(c,u,h,p,a[d+13],5,-1444681467),p=m(p,c,u,h,a[d+2],9,-51403784),h=m(h,p,c,u,a[d+7],14,1735328473),u=m(u,h,p,c,a[d+12],20,-1926607734),c=g(c,u,h,p,a[d+5],4,-378558),p=g(p,c,u,h,a[d+8],11,-2022574463),h=g(h,p,c,u,a[d+11],16,1839030562),u=g(u,h,p,c,a[d+14],23,-35309556),c=g(c,u,h,p,a[d+1],4,-1530992060),p=g(p,c,u,h,a[d+4],11,1272893353),h=g(h,p,c,u,a[d+7],16,-155497632),u=g(u,h,p,c,a[d+10],23,-1094730640),c=g(c,u,h,p,a[d+13],4,681279174),p=g(p,c,u,h,a[d+0],11,-358537222),h=g(h,p,c,u,a[d+3],16,-722521979),u=g(u,h,p,c,a[d+6],23,76029189),c=g(c,u,h,p,a[d+9],4,-640364487),p=g(p,c,u,h,a[d+12],11,-421815835),h=g(h,p,c,u,a[d+15],16,530742520),u=g(u,h,p,c,a[d+2],23,-995338651),c=v(c,u,h,p,a[d+0],6,-198630844),p=v(p,c,u,h,a[d+7],10,1126891415),h=v(h,p,c,u,a[d+14],15,-1416354905),u=v(u,h,p,c,a[d+5],21,-57434055),c=v(c,u,h,p,a[d+12],6,1700485571),p=v(p,c,u,h,a[d+3],10,-1894986606),h=v(h,p,c,u,a[d+10],15,-1051523),u=v(u,h,p,c,a[d+1],21,-2054922799),c=v(c,u,h,p,a[d+8],6,1873313359),p=v(p,c,u,h,a[d+15],10,-30611744),h=v(h,p,c,u,a[d+6],15,-1560198380),u=v(u,h,p,c,a[d+13],21,1309151649),c=v(c,u,h,p,a[d+4],6,-145523070),p=v(p,c,u,h,a[d+11],10,-1120210379),h=v(h,p,c,u,a[d+2],15,718787259),u=v(u,h,p,c,a[d+9],21,-343485551),c=c+y>>>0,u=u+b>>>0,h=h+w>>>0,p=p+C>>>0}return t.endian([c,u,h,p])};r._ff=function(e,t,s,i,n,o,r){var a=e+(t&s|~t&i)+(n>>>0)+r;return(a<<o|a>>>32-o)+t},r._gg=function(e,t,s,i,n,o,r){var a=e+(t&i|s&~i)+(n>>>0)+r;return(a<<o|a>>>32-o)+t},r._hh=function(e,t,s,i,n,o,r){var a=e+(t^s^i)+(n>>>0)+r;return(a<<o|a>>>32-o)+t},r._ii=function(e,t,s,i,n,o,r){var a=e+(s^(t|~i))+(n>>>0)+r;return(a<<o|a>>>32-o)+t},r._blocksize=16,r._digestsize=16,e.exports=function(e,s){if("undefined"!=typeof e){var i=t.wordsToBytes(r(e,s));return s&&s.asBytes?i:s&&s.asString?o.bytesToString(i):t.bytesToHex(i)}}}()},96:function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&s.rotl(e,8)|4278255360&s.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=s.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],s=0,i=0;s<e.length;s++,i+=8)t[i>>>5]|=e[s]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],s=0;s<32*e.length;s+=8)t.push(e[s>>>5]>>>24-s%32&255);return t},bytesToHex:function(e){for(var t=[],s=0;s<e.length;s++)t.push((e[s]>>>4).toString(16)),t.push((15&e[s]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(parseInt(e.substr(s,2),16));return t},bytesToBase64:function(e){for(var s=[],i=0;i<e.length;i+=3)for(var n=e[i]<<16|e[i+1]<<8|e[i+2],o=0;o<4;o++)8*i+6*o<=8*e.length?s.push(t.charAt(n>>>6*(3-o)&63)):s.push("=");return s.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],i=0,n=0;i<e.length;n=++i%4)0!=n&&s.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*n+8)-1)<<2*n|t.indexOf(e.charAt(i))>>>6-2*n);return s}};e.exports=s}()},97:function(e,t){e.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},118:function(e,t,s){var i=s(94);"string"==typeof i&&(i=[[e.id,i,""]]);s(47)(i,{})},119:function(e,t){function s(){var e=[];return function t(s){if(s===document.documentElement)return!1;for(var i=0,n=e.length;i<n;i++)if(e[i][0]===s)return e[i][1];var o=!1,r=window.getComputedStyle(s);return"hidden"===r.visibility||"none"===r.display?o=!0:s.parentNode&&(o=t(s.parentNode)),e.push([s,o]),o}}e.exports=function(e){for(var t,i,n=[],o=[],r=s(),a=e.querySelectorAll("input, select, a[href], textarea, button, [tabindex]"),l=0,c=a.length;l<c;l++)t=a[l],i=t.tabIndex,i<0||"INPUT"===t.tagName&&"hidden"===t.type||t.disabled||r(t)||(0===i?n.push(t):o.push({tabIndex:i,node:t}));var u=o.sort(function(e,t){return e.tabIndex-t.tabIndex}).map(function(e){return e.node});return Array.prototype.push.apply(u,n),u}},178:function(e,t,s){var i,n;/*!
	 * Autolinker.js
	 * 0.11.2
	 *
	 * Copyright(c) 2014 Gregory Jacobs <greg@greg-jacobs.com>
	 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
	 *
	 * https://github.com/gregjacobs/Autolinker.js
	 */
!function(o,r){i=r,n="function"==typeof i?i.call(t,s,t,e):i,!(void 0!==n&&(e.exports=n))}(this,function(){var e=function(e){e=e||{};for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};return e.prototype={constructor:e,newWindow:!0,stripPrefix:!0,twitter:!0,email:!0,urls:!0,className:"",matcherRegex:function(){var e=/(^|[^\w])@(\w{1,15})/,t=/(?:[\-;:&=\+\$,\w\.]+@)/,s=/(?:[A-Za-z]{3,9}:(?:\/\/)?)/,i=/(?:www\.)/,n=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,o=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,r=/(?:[\-A-Za-z0-9+&@#\/%?=~_()|!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|])?/;return new RegExp(["(",e.source,")","|","(",t.source,n.source,o.source,")","|","(","(?:","(?:",s.source,n.source,")","|","(?:","(.?//)?",i.source,n.source,")","|","(?:","(.?//)?",n.source,o.source,")",")",r.source,")"].join(""),"gi")}(),protocolRelativeRegex:/(.)?\/\//,htmlRegex:function(){var e=/[0-9a-zA-Z:]+/,t=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,s=/(?:".*?"|'.*?'|[^'"=<>`\s]+)/,i=t.source+"(?:\\s*=\\s*"+s.source+")?";return new RegExp(["<(?:!|(/))?","("+e.source+")","(?:","\\s+","(?:",i,"|",s.source+")",")*","\\s*/?",">"].join(""),"g")}(),urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,link:function(e){return this.processHtml(e)},processHtml:function(e){for(var t,s,i=this.htmlRegex,n=0,o=0,r=[];null!==(t=i.exec(e));){var a=t[0],l=t[2],c=!!t[1];s=e.substring(n,t.index),n=t.index+a.length,"a"===l?c?(o=Math.max(o-1,0),0===o&&r.push(s)):(o++,r.push(this.processTextNode(s))):0===o?r.push(this.processTextNode(s)):r.push(s),r.push(a)}if(n<e.length){var u=this.processTextNode(e.substring(n));r.push(u)}return r.join("")},processTextNode:function(e){var t=this,s=this.matcherRegex,i=this.twitter,n=this.email,o=this.urls;return e.replace(s,function(e,s,r,a,l,c,u,h){var p=s,d=r,f=a,m=l,g=c,v=u||h,y="",b="";if(p&&!i||m&&!n||g&&!o||g&&g.indexOf(".")===-1||g&&/^[A-Za-z]{3,9}:/.test(g)&&!/:.*?[A-Za-z]/.test(g)||v&&/^[\w]\/\//.test(v))return e;var w=e.charAt(e.length-1);if(")"===w){var C=e.match(/\(/g),T=e.match(/\)/g),x=C&&C.length||0,S=T&&T.length||0;x<S&&(e=e.substr(0,e.length-1),b=")")}var P,E=e,O=e;if(p)P="twitter",y=d,E="https://twitter.com/"+f,O="@"+f;else if(m)P="email",E="mailto:"+m,O=m;else if(P="url",v){var k=new RegExp("^"+t.protocolRelativeRegex.source),_=v.match(k)[1]||"";y=_+y,E=E.replace(k,"//"),O=O.replace(k,"")}else/^[A-Za-z]{3,9}:/i.test(E)||(E="http://"+E);var M=t.createAnchorTag(P,E,O);return y+M+b})},createAnchorTag:function(e,t,s){var i=this.createAnchorAttrsStr(e,t);return s=this.processAnchorText(s),"<a "+i+">"+s+"</a>"},createAnchorAttrsStr:function(e,t){var s=['href="'+t+'"'],i=this.createCssClass(e);return i&&s.push('class="'+i+'"'),this.newWindow&&s.push('target="_blank"'),s.join(" ")},createCssClass:function(e){var t=this.className;return t?t+" "+t+"-"+e:""},processAnchorText:function(e){return this.stripPrefix&&(e=this.stripUrlPrefix(e)),e=this.removeTrailingSlash(e),e=this.doTruncate(e)},stripUrlPrefix:function(e){return e.replace(this.urlPrefixRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},doTruncate:function(e){var t=this.truncate;return t&&e.length>t&&(e=e.substring(0,t-2)+".."),e}},e.link=function(t,s){var i=new e(s);return i.link(t)},e})},238:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},o=s(1),r=i(o),a=s(67),l=i(a),c=r["default"].createClass({displayName:"Dialog",propTypes:{okLabel:r["default"].PropTypes.string,cancelLabel:r["default"].PropTypes.string,onAccept:r["default"].PropTypes.func.isRequired,onCancel:r["default"].PropTypes.func.isRequired,header:r["default"].PropTypes.func,footer:r["default"].PropTypes.func},getDefaultProps:function(){return{okLabel:"OK",cancelLabel:"Cancel"}},renderFooter:function(){return r["default"].createElement(a.ModalFooter,null,r["default"].createElement("button",{className:"btn btn-primary",onClick:this.props.onAccept},this.props.okLabel),r["default"].createElement("button",{className:"btn",autoFocus:!0,onClick:this.props.onCancel},this.props.cancelLabel))},render:function(){return r["default"].createElement(l["default"],n({},this.props,{footer:this.renderFooter}))}});t["default"]=c},251:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(1),o=i(n),r=s(238),a=i(r),l=s(67),c=i(l),u=s(252),h=i(u),p=o["default"].createClass({displayName:"UserProfileEdit",propTypes:{appRoot:o["default"].PropTypes.string.isRequired,user:o["default"].PropTypes.object.isRequired},getInitialState:function(){return{editing:/\/edit\/?$/.test(window.location),confirmClose:!1,isDirty:!1}},componentWillUpdate:function(e,t){this.handleURL(t)},handleEdit:function(){this.setState({editing:!0})},handleClose:function(){var e=arguments.length<=0||void 0===arguments[0]?{forceClose:!1}:arguments[0],t=e.forceClose;this.state.isDirty&&!t?this.setState({confirmClose:!0}):this.setState({editing:!1,confirmClose:!1,isDirty:!1})},handleSave:function(){this.handleClose(),window.location.reload()},handleDlgOk:function(){this.handleClose({forceClose:!0})},handleDlgCancel:function(){this.setState({confirmClose:!1})},handleDirtyFlag:function(e){this.setState({isDirty:e})},handleURL:function(e){var t=this.props.appRoot,s=e.editing?t+"edit/":t;window.history.pushState({},"",s)},render:function(){return o["default"].createElement("div",null,o["default"].createElement("div",{className:"edit-profile-btn"},o["default"].createElement("button",{className:"btn btn-primary",onClick:this.handleEdit},gettext("Edit My Public Profile"))),this.state.editing&&o["default"].createElement(c["default"],{className:"user-edit",onClose:this.handleClose,title:gettext("My Public Profile")},o["default"].createElement("div",{id:"user-edit"},o["default"].createElement(h["default"],{model:this.props.user,onDirty:this.handleDirtyFlag,onSuccess:this.handleSave}))),this.state.confirmClose&&o["default"].createElement(a["default"],{onAccept:this.handleDlgOk,onCancel:this.handleDlgCancel,onClose:this.handleDlgCancel,title:gettext("Discard changes."),okLabel:gettext("Yes"),cancelLabel:gettext("No")},gettext("There are unsaved changes. Do you want to discard them?")))}});t["default"]=p},252:function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e){return{__html:(0,o.link)(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserProfileForm=void 0;var o=s(178),r=s(1),a=i(r),l=s(16),c=i(l),u=s(54),h=i(u),p=s(66),d=i(p),f=t.UserProfileForm=a["default"].createClass({displayName:"UserProfileForm",propTypes:{onDirty:a["default"].PropTypes.func.isRequired,onSuccess:a["default"].PropTypes.func.isRequired},mixins:[h["default"]],componentWillUpdate:function(e,t){t.isDirty!==this.state.isDirty&&this.props.onDirty(t.isDirty)},fields:["full_name","twitter","linkedin","website","bio"],handleSuccess:function(e){this.props.onSuccess(e)},render:function(){var e=this.getResource(),t=this.state.errors,s=this.state.formData,i=gettext("To set or change your avatar for your email address (%(email)s), please go to gravatar.com."),o=interpolate(i,{email:e.get("email")},!0);return a["default"].createElement("form",{method:"post",id:"item-form",autoComplete:"off",onSubmit:this.handleFormSubmit},a["default"].createElement("div",{className:"fields"},a["default"].createElement(c["default"],{label:gettext("Full Name"),placeholder:gettext("Your Full Name"),autoFocus:!0,handleChange:this.handleChange,name:"full_name",errors:t.full_name,value:s.full_name}),a["default"].createElement("p",null,a["default"].createElement("label",null,gettext("Avatar")),a["default"].createElement(d["default"],{email:e.get("email"),size:48}),a["default"].createElement("span",{className:"helptext",dangerouslySetInnerHTML:n(o)})),a["default"].createElement("p",{className:"divider"}),a["default"].createElement(c["default"],{label:gettext("Twitter"),handleChange:this.handleChange,placeholder:gettext("Your Twitter username"),maxLength:"15",name:"twitter",errors:t.twitter,value:s.twitter}),a["default"].createElement(c["default"],{label:gettext("LinkedIn"),handleChange:this.handleChange,placeholder:gettext("Your LinkedIn profile URL"),name:"linkedin",errors:t.linkedin,value:s.linkedin}),a["default"].createElement(c["default"],{label:gettext("Website"),handleChange:this.handleChange,placeholder:gettext("Your Personal website/blog URL"),name:"website",errors:t.website,value:s.website}),a["default"].createElement(c["default"],{type:"textarea",label:gettext("Short Bio"),handleChange:this.handleChange,placeholder:gettext("Why are you part of our translation project? Describe yourself, inspire others!"),name:"bio",errors:t.bio,value:s.bio})),a["default"].createElement("p",{className:"buttons"},a["default"].createElement("input",{type:"submit",className:"btn btn-primary",disabled:!this.state.isDirty,value:gettext("Save")})))}});t["default"]=f}});