__mark_duplicates__output = cfg.PROJECT  + \
    "/mark_duplicates/%s.bam" % cfg.PROJECT

rule mark_duplicates:
    input:
        __mark_duplicates__input
    output:
        __mark_duplicates__output
    log:
        out = cfg.PROJECT + 
            "/logs/picard_tools/MarkDuplicates/stdout.logs",
        err = cfg.PROJECT  + 
            "/logs/picard_tools/MarkDuplicates/stderr.logs",
        metrics = cfg.PROJECT  + 
            "/logs/picard_tools/MarkDuplicates/%s.metrics" % cfg.PROJECT
    params:
        options = config["mark_duplicates"]["options"]
    shell:
        """
        picard MarkDuplicates I={input} \
        O={output} M={log.metrics} > {log.out} 2> {log.err}
        """
