

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Import and Output &mdash; gdspy 0.9 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="gdspy 0.9 documentation" href="index.html"/>
        <link rel="prev" title="Main API" href="construction.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> gdspy
          

          
          </a>

          
            
            
              <div class="version">
                0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Sample File</a></li>
<li class="toctree-l1"><a class="reference internal" href="construction.html">Main API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Import and Output</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#classes">Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gdsimport">GdsImport</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gdsprint">GdsPrint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#layoutviewer">LayoutViewer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gds-print">gds_print</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">gdspy</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Import and Output</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/io.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-gdspy">
<span id="import-and-output"></span><h1>Import and Output<a class="headerlink" href="#module-gdspy" title="Permalink to this headline">¶</a></h1>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="gdsimport">
<h3>GdsImport<a class="headerlink" href="#gdsimport" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="gdspy.GdsImport">
<em class="property">class </em><code class="descclassname">gdspy.</code><code class="descname">GdsImport</code><span class="sig-paren">(</span><em>infile</em>, <em>unit=None</em>, <em>rename={}</em>, <em>layers={}</em>, <em>datatypes={}</em>, <em>texttypes={}</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#gdspy.GdsImport" title="Permalink to this definition">¶</a></dt>
<dd><p>Object used to import structures from a GDSII stream file.</p>
<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt>infile</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">file or string</span><dd>GDSII stream file (or path) to be imported. It must be opened for
reading in binary format.</dd>
<dt>unit</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">number</span><dd>Unit (in <em>meters</em>) to use for the imported structures. If <code class="docutils literal"><span class="pre">None</span></code>,
the units used to create the GDSII file will be used.</dd>
<dt>rename</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dictionary</span><dd>Dictionary used to rename the imported cells. Keys and values must
be strings.</dd>
<dt>layers</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dictionary</span><dd>Dictionary used to convert the layers in the imported cells. Keys
and values must be integers.</dd>
<dt>datatypes</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dictionary</span><dd>Dictionary used to convert the datatypes in the imported cells. Keys
and values must be integers.</dd>
<dt>texttypes</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dictionary</span><dd>Dictionary used to convert the text types in the imported cells.
Keys and values must be integers.</dd>
<dt>verbose: bool</dt>
<dd>If False, suppresses warnings about unsupported elements in the
imported file.  Also supresses polygon generation warnings.</dd>
</dl>
<p><strong>Attributes</strong></p>
<dl class="docutils">
<dt>cell_dict</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dictionary</span><dd>Dictionary will all imported cells, indexed by name.</dd>
</dl>
<p><strong>Notes</strong></p>
<p>Not all features from the GDSII specification are currently supported. A
warning will be produced if any unsuported features are found in the
imported file.</p>
<p><strong>Examples</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gdsii</span> <span class="o">=</span> <span class="n">gdspy</span><span class="o">.</span><span class="n">GdsImport</span><span class="p">(</span><span class="s1">&#39;gdspy-sample.gds&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cell_name</span> <span class="ow">in</span> <span class="n">gdsii</span><span class="o">.</span><span class="n">cell_dict</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">gdsii</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="n">cell_name</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="gdspy.GdsImport.extract">
<code class="descname">extract</code><span class="sig-paren">(</span><em>cell</em><span class="sig-paren">)</span><a class="headerlink" href="#gdspy.GdsImport.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a cell from the imported GDSII file and include it in the
current scope, including referenced dependencies.</p>
<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt>cell</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier"><code class="docutils literal"><span class="pre">Cell</span></code> or string</span><dd>Cell or name of the cell to be extracted from the imported file.
Referenced cells will be automatically extracted as well.</dd>
</dl>
<p><strong>Returns</strong></p>
<dl class="docutils">
<dt>out</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier"><code class="docutils literal"><span class="pre">Cell</span></code></span><dd>The extracted cell.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gdspy.GdsImport.top_level">
<code class="descname">top_level</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gdspy.GdsImport.top_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Output the top level cells from the GDSII data.  Top level cells are
those that are not referenced by any other cells.</p>
<p><strong>Outputs</strong></p>
<dl class="docutils">
<dt>out: List</dt>
<dd>List of top level cells.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="gdsprint">
<h3>GdsPrint<a class="headerlink" href="#gdsprint" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="gdspy.GdsPrint">
<em class="property">class </em><code class="descclassname">gdspy.</code><code class="descname">GdsPrint</code><span class="sig-paren">(</span><em>outfile</em>, <em>name='library'</em>, <em>unit=1e-06</em>, <em>precision=1e-09</em><span class="sig-paren">)</span><a class="headerlink" href="#gdspy.GdsPrint" title="Permalink to this definition">¶</a></dt>
<dd><p>GDSII strem library printer.</p>
<p>The dimensions actually written on the GDSII file will be the dimensions
of the objects created times the ratio <code class="docutils literal"><span class="pre">unit/precision</span></code>. For example,
if a circle with radius 1.5 is created and we set <code class="docutils literal"><span class="pre">unit=1.0e-6</span></code> (1 um)
and <code class="docutils literal"><span class="pre">precision=1.0e-9</span></code> (1 nm), the radius of the circle will be 1.5 um
and the GDSII file will contain the dimension 1500 nm.</p>
<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt>outfile</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">file or string</span><dd>The file (or path) where the GDSII stream will be written. It must
be opened for writing operations in binary format.</dd>
<dt>cells</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">array-like</span><dd>The list of cells or cell names to be included in the library. If
<code class="docutils literal"><span class="pre">None</span></code>, all cells listed in <code class="docutils literal"><span class="pre">Cell.cell_dict</span></code> are used.</dd>
<dt>name</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">string</span><dd>Name of the GDSII library (file).</dd>
<dt>unit</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">number</span><dd>Unit size for the objects in the library (in <em>meters</em>).</dd>
<dt>precision</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">number</span><dd>Precision for the dimensions of the objects in the library (in
<em>meters</em>).</dd>
</dl>
<p><strong>Notes</strong></p>
<p>This class can be used for incremental output of the geometry in case
the complete layout is too large to be kept in memory all at once.</p>
<p><strong>Examples</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prt</span> <span class="o">=</span> <span class="n">gdspy</span><span class="o">.</span><span class="n">GdsPrint</span><span class="p">(</span><span class="s1">&#39;out-file.gds&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="mf">1.0e-6</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mf">1.0e-9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">cell</span> <span class="o">=</span> <span class="n">gdspy</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="s1">&#39;C</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="gp">... </span>    <span class="c1"># Add the contents of this cell...</span>
<span class="gp">... </span>    <span class="n">prt</span><span class="o">.</span><span class="n">write_cell</span><span class="p">(</span><span class="n">cell</span><span class="p">)</span>
<span class="gp">... </span>    <span class="c1"># Clear the memory: erase Cell objects and any other objects</span>
<span class="gp">... </span>    <span class="c1"># that won&#39;t be needed.</span>
<span class="gp">... </span>    <span class="n">gdspy</span><span class="o">.</span><span class="n">Cell</span><span class="o">.</span><span class="n">cell_dict</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="gdspy.GdsPrint.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gdspy.GdsPrint.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalize the GDSII stream library.</p>
</dd></dl>

<dl class="method">
<dt id="gdspy.GdsPrint.write_cell">
<code class="descname">write_cell</code><span class="sig-paren">(</span><em>cell</em><span class="sig-paren">)</span><a class="headerlink" href="#gdspy.GdsPrint.write_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the specified cell to the file.</p>
<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt>cell</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier"><code class="docutils literal"><span class="pre">Cell</span></code></span><dd>Cell to be written.</dd>
</dl>
<p><strong>Notes</strong></p>
<p>Only the specified cell is written. Unlike in <code class="docutils literal"><span class="pre">gds_print</span></code>, cell
dependencies are not automatically included.</p>
<p><strong>Returns</strong></p>
<dl class="docutils">
<dt>out</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier"><code class="docutils literal"><span class="pre">GdsPrint</span></code></span><dd>This object.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="layoutviewer">
<h3>LayoutViewer<a class="headerlink" href="#layoutviewer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="gdspy.LayoutViewer">
<em class="property">class </em><code class="descclassname">gdspy.</code><code class="descname">LayoutViewer</code><span class="sig-paren">(</span><em>cells=None</em>, <em>hidden_types=[]</em>, <em>depth=0</em>, <em>color={}</em>, <em>pattern={}</em>, <em>background='#202020'</em>, <em>width=800</em>, <em>height=600</em><span class="sig-paren">)</span><a class="headerlink" href="#gdspy.LayoutViewer" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a GUI where the layout can be viewed.</p>
<p>The view can be scrolled vertically with the mouse wheel, and
horizontally by holding the shift key and using the mouse wheel.
Dragging the 2nd mouse button also scrolls the view, and if control is
held down, it scrolls 10 times faster.</p>
<p>You can zoom in or out using control plus the mouse wheel, or drag a
rectangle on the window with the 1st mouse button to zoom into that
area.</p>
<p>A ruler is available by clicking the 1st mouse button anywhere on the
view and moving the mouse around.  The distance is shown in the status
area.</p>
<p>Double-clicking on any polygon gives some information about it.</p>
<p>Color and pattern for each layer/datatype specification can be changed
by left and right clicking on the icon in the layer/datatype list. Left
and right clicking the text label changes the visibility.</p>
<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt>cells</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">Cell, string or array-like</span><dd>The array of cells to be included in the view. If <code class="docutils literal"><span class="pre">None</span></code>, all
cells listed in <code class="docutils literal"><span class="pre">Cell.cell_dict</span></code> are used.</dd>
<dt>hidden_types</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">array-like</span><dd>The array of tuples (layer, datatype) to start in hidden state.</dd>
<dt>depth</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">integer</span><dd>Initial depth of referenced cells to be displayed.</dd>
<dt>color</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dictionary</span><dd>Dictionary of colors for each tuple (layer, datatype).  The colors
must be strings in the format <code class="docutils literal"><span class="pre">#rrggbb</span></code>.  A value with key
<code class="docutils literal"><span class="pre">default</span></code> will be used as default color.</dd>
<dt>pattern</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dictionary</span><dd>Dictionary of patterns for each tuple (layer, datatype).  The
patterns must be integers between 0 and 9, inclusive.  A value with
key <code class="docutils literal"><span class="pre">default</span></code> will be used as default pattern.</dd>
<dt>background</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">string</span><dd>Canvas background color in the format <code class="docutils literal"><span class="pre">#rrggbb</span></code>.</dd>
<dt>width</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">integer</span><dd>Horizontal size of the viewer canvas.</dd>
<dt>height</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">integer</span><dd>Vertical size of the viewer canvas.</dd>
</dl>
<p><strong>Examples</strong></p>
<p>White background, filled shapes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gdspy</span><span class="o">.</span><span class="n">LayoutViewer</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span><span class="mi">8</span><span class="p">},</span> <span class="n">background</span><span class="o">=</span><span class="s1">&#39;#FFFFFF&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>No filling, black color for layer 0, datatype 1, automatic for others:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gdspy</span><span class="o">.</span><span class="n">LayoutViewer</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">:</span><span class="mi">9</span><span class="p">},</span> <span class="n">color</span><span class="o">=</span><span class="p">{(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span><span class="s1">&#39;#000000&#39;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="gds-print">
<h3>gds_print<a class="headerlink" href="#gds-print" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="gdspy.gds_print">
<code class="descclassname">gdspy.</code><code class="descname">gds_print</code><span class="sig-paren">(</span><em>outfile</em>, <em>cells=None</em>, <em>name='library'</em>, <em>unit=1e-06</em>, <em>precision=1e-09</em><span class="sig-paren">)</span><a class="headerlink" href="#gdspy.gds_print" title="Permalink to this definition">¶</a></dt>
<dd><p>Output a list of cells as a GDSII stream library.</p>
<p>The dimensions actually written on the GDSII file will be the dimensions
of the objects created times the ratio <code class="docutils literal"><span class="pre">unit/precision</span></code>. For example,
if a circle with radius 1.5 is created and we set <code class="docutils literal"><span class="pre">unit=1.0e-6</span></code> (1 um)
and <code class="docutils literal"><span class="pre">precision=1.0e-9</span></code> (1 nm), the radius of the circle will be 1.5 um
and the GDSII file will contain the dimension 1500 nm.</p>
<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt>outfile</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">file or string</span><dd>The file (or path) where the GDSII stream will be written. It must
be opened for writing operations in binary format.</dd>
<dt>cells</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">array-like</span><dd>The list of cells or cell names to be included in the library. If
<code class="docutils literal"><span class="pre">None</span></code>, all cells listed in <code class="docutils literal"><span class="pre">Cell.cell_dict</span></code> are used.</dd>
<dt>name</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">string</span><dd>Name of the GDSII library (file).</dd>
<dt>unit</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">number</span><dd>Unit size for the objects in the library (in <em>meters</em>).</dd>
<dt>precision</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">number</span><dd>Precision for the dimensions of the objects in the library (in
<em>meters</em>).</dd>
</dl>
<p><strong>Examples</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gdspy</span><span class="o">.</span><span class="n">gds_print</span><span class="p">(</span><span class="s1">&#39;out-file.gds&#39;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="mf">1.0e-6</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mf">1.0e-9</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="construction.html" class="btn btn-neutral" title="Main API" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2016, Lucas H. Gabrielli.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>