<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Общее описание &mdash; m3-mutex  documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="m3-mutex  documentation" href="index.html" />
    <link rel="next" title="Установка" href="installation.html" />
    <link rel="prev" title="Welcome to m3-mutex’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="installation.html" title="Установка"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to m3-mutex’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">m3-mutex  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="id1">
<h1>Общее описание<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id2">
<h2>Назначение модуля и основной функционал<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Модуль предназначен для работы с семафорами и глобальными блокировками операций.</p>
</div>
<div class="section" id="id3">
<h2>Состав и структура<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<h3>Диаграмма классов<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<img alt="_images/classes.png" src="_images/classes.png" />
</div>
<div class="section" id="id5">
<h3>Структура файлов<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="section" id="api-py">
<h4>api.py<a class="headerlink" href="#api-py" title="Permalink to this headline">¶</a></h4>
<p>Данный файл содержит следующие api-функции:</p>
<dl class="docutils">
<dt><strong>get_backend(mutex_id)</strong></dt>
<dd><p class="first"><em>Получает бекэнд</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex_id:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex_id:</th><td class="field-body">объект класса domain.Mutex или domain.MutexID</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">объект класса ModelMutexBackend</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>capture_mutex(mutex_id, owner=None, auto_release=TimeoutAutoRelease(timeout=300), status_data=None)</strong></dt>
<dd><p class="first"><em>Устанавливает семафор с таймаутом в 300 секунд (5 минут) по умолчанию</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex_id:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex_id:</th><td class="field-body">объект класса domain.Mutex или domain.MutexID</td>
</tr>
<tr class="field-odd field"><th class="field-name">param owner:</th><td class="field-body">владелец семафора. Если передать значение None, то будет использовано значение из thread-locals</td>
</tr>
<tr class="field-even field"><th class="field-name">type owner:</th><td class="field-body">объект класса domain.MutexOwner</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param auto_release:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">правило автоосвобождения данного семаформа. По умолчанию используется автоматическое освобождение по таймауту в 5 минут</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param str status_data:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">статусная информация</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">объект класса domain.Mutex</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>release_mutex(mutex_id, owner=None)</strong></dt>
<dd><p class="first"><em>Освобождает семафор</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex_id:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex_id:</th><td class="field-body">объект класса domain.Mutex или domain.MutexID</td>
</tr>
<tr class="field-odd field"><th class="field-name">param owner:</th><td class="field-body">владелец семафора. Если передать значение None, то будет использовано значение из thread-locals</td>
</tr>
<tr class="field-even field"><th class="field-name">type owner:</th><td class="field-body">объект класса domain.MutexOwner</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>request_mutex(mutex_id, owner=None)</strong></dt>
<dd><p class="first"><em>Проверяет, свободен ли семафор</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex_id:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex_id:</th><td class="field-body">объект класса domain.Mutex или domain.MutexID</td>
</tr>
<tr class="field-odd field"><th class="field-name">param owner:</th><td class="field-body">владелец семафора. Если передать значение None, то будет использовано значение из thread-locals</td>
</tr>
<tr class="field-even field"><th class="field-name">type owner:</th><td class="field-body">объект класса domain.MutexOwner</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">кортеж из состояния семафора MutexState и семафора или None</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>get_mutex_list(mutex_query=MutexQuery())</strong></dt>
<dd><p class="first"><em>Возвращает список семафоров</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param mutex_query:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">условия отбора семафоров</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type mutex_query:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">объект класса MutexQuery</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">список семафоров</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="backends-py">
<h4>backends.py<a class="headerlink" href="#backends-py" title="Permalink to this headline">¶</a></h4>
<p>Данный файл содержит классы бекэндов для управления семафорами:</p>
<dl class="docutils">
<dt><strong>class BaseMutexBackend(object)</strong></dt>
<dd><p class="first"><em>Базовый класс (интерфейс) бекэнда для управления семафорами.</em></p>
<blockquote class="last">
<div><p>Содержит следующие методы:</p>
<dl class="docutils">
<dt><strong>capture_mutex(self, mutex_id, owner=None, auto_release=TimeoutAutoRelease(), status_data=None)</strong></dt>
<dd><p class="first"><em>Метод захвата семафора.</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex_id:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex_id:</th><td class="field-body">объект класса domain.Mutex или domain.MutexID</td>
</tr>
<tr class="field-odd field"><th class="field-name">param owner:</th><td class="field-body">владелец семафора. Если передать значение None, то будет использовано значение из thread-locals</td>
</tr>
<tr class="field-even field"><th class="field-name">type owner:</th><td class="field-body">объект класса domain.MutexOwner</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param auto_release:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">правило автоосвобождения данного семаформа. По умолчанию используется автоматическое освобождение по таймауту в 5 минут.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param str status_data:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">статусная информация</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">объект класса domain.Mutex</td>
</tr>
<tr class="field-even field"><th class="field-name">raise:</th><td class="field-body">MutexBusy</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>release_mutex(self, mutex_id, owner=None)</strong></dt>
<dd><p class="first"><em>Метод освобождения семафора. В случае, если семафор был ранее захвачен не нами.</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex_id:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex_id:</th><td class="field-body">объект класса domain.Mutex или domain.MutexID</td>
</tr>
<tr class="field-odd field"><th class="field-name">param owner:</th><td class="field-body">владелец семафора. Если передать значение None, то будет использовано значение из thread-locals</td>
</tr>
<tr class="field-even field"><th class="field-name">type owner:</th><td class="field-body">объект класса domain.MutexOwner</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">raise:</th><td class="field-body">MutexBusy</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>request_mutex(self, mutex_id, owner=None)</strong></dt>
<dd><p class="first"><em>Метод проверки состояния семафора.</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex_id:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex_id:</th><td class="field-body">объект класса domain.Mutex или domain.MutexID</td>
</tr>
<tr class="field-odd field"><th class="field-name">param owner:</th><td class="field-body">владелец семафора. Если передать значение None, то будет использовано значение из thread-locals</td>
</tr>
<tr class="field-even field"><th class="field-name">type owner:</th><td class="field-body">объект класса domain.MutexOwner</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">кортеж из состояния семафора MutexState и семафора или None</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>_read_mutex(self, mutex_id)</strong></dt>
<dd><p class="first"><em>Внутренний метод чтения информации о семафоре из хранилища</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex_id:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex_id:</th><td class="field-body">объект класса domain.Mutex или domain.MutexID</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>_add_mutex(self, mutex)</strong></dt>
<dd><p class="first"><em>Внутренний метод добавления семафора в хранилище</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex:</th><td class="field-body">объект класса domain.Mutex</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>_remove_mutex(self, mutex_id)</strong></dt>
<dd><p class="first"><em>Внутренний метод удаления семафора из хранилища</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex_id:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex_id:</th><td class="field-body">объект класса domain.Mutex или domain.MutexID</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div></blockquote>
</dd>
<dt><strong>class ModelMutexBackend(BaseMutexBackend)</strong></dt>
<dd><em>Бекэнд, который реализует хранение семафоров в базе данных</em></dd>
<dt><strong>class SessionMutexBackend(BaseMutexBackend)</strong></dt>
<dd><em>Бекэнд, который реализует хранение семафоров в текущей обработки запросов.</em>
<em>Бекэнд необходимо использовать для выставления только в рамках обработки текущего запроса.</em></dd>
</dl>
</div>
<div class="section" id="exceptions-py">
<h4>exceptions.py<a class="headerlink" href="#exceptions-py" title="Permalink to this headline">¶</a></h4>
<p>Содержит исключения, возникающие внутри модуля</p>
<dl class="docutils">
<dt><strong>class MutexBusy(Exception)</strong></dt>
<dd><em>Исключительная ситуация, возникающая при попытке захвата семафора, который уже захвачен другим владельцем</em></dd>
</dl>
</div>
<div class="section" id="helpers-py">
<h4>helpers.py<a class="headerlink" href="#helpers-py" title="Permalink to this headline">¶</a></h4>
<p>Содержит вспомогательные функции</p>
<dl class="docutils">
<dt><strong>compare_owners(owner1, owner2, soft=False)</strong></dt>
<dd><blockquote class="first">
<div><em>Производит сравнение объектов двух владельцев семафоров. Возвращает True в случае, если владельцы идентичны.</em>
:param owner1: первый владелец
:param owner2: второй владелец
:param soft:</div></blockquote>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>get_default_owner()</strong></dt>
<dd><p class="first"><em>Возвращает объект MutexOwner, который представляет владельца семафоров в текущей сессии обработки запроса. Информация о текущем владельце читается из thread-locals. В случае, если информация о текущей сессии в thread-locals отсутствует, то считается, что работа с системой производится из shell-консоли и параметры владельца заполняются на основании констант</em> <strong>CONSOLE_SESSION_KEY</strong>, <strong>CONSOLE_USER_ID</strong> <em>и</em> <strong>CONSOLE_USER_NAME</strong></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">объект класса MutexOwner</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>get_session_info()</strong></dt>
<dd><p class="first"><em>Возвращает информацию о текущей сессии обработки информации. В случае если работа с системой происходит из shell-консоли, то возвращается кортеж **CONSOLE_SESSION_KEY*</em>.*</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">tuple(ключ сессии, идентификатор пользователя)</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>get_backend(mutex_id)</strong></dt>
<dd><p class="first"><em>Возвращает backend, который используется для хранения информации о семафорах.</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex_id:</th><td class="field-body">идентификатор семафора, для которого определяется backend</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="models-py">
<h4>models.py<a class="headerlink" href="#models-py" title="Permalink to this headline">¶</a></h4>
<p>Содержит Django-модели модуля</p>
<dl class="docutils">
<dt><strong>class MutexModel(models.Model)</strong></dt>
<dd><p class="first"><em>Модель хранения информации о семафоре</em></p>
<p>Содержит поля:</p>
<ul class="last simple">
<li><strong>mutex_group</strong> - группа семафора</li>
<li><strong>mutex_mode</strong> - тип семафора</li>
<li><strong>mutex_id</strong> - id семафора</li>
<li><strong>owner_session</strong> - сессия владельца семафора</li>
<li><strong>owner_host</strong> - хост владельца семафора</li>
<li><strong>owner_id</strong> - id владельца семафора</li>
<li><strong>owner_login</strong> - логин владельца семафора</li>
<li><strong>owner_name</strong> - имя владельца семафора</li>
<li><strong>auto_release_rule</strong> - правило автоосвобождения семафора</li>
<li><strong>auto_release_config</strong> - настройка автоосвобождения семафора</li>
<li><strong>captured_since</strong> - дата и время захвата семафора</li>
<li><strong>status_data</strong> - информация о статусе семафора</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="domain-py">
<h4>domain.py<a class="headerlink" href="#domain-py" title="Permalink to this headline">¶</a></h4>
<p>Содержит основные и вспомогательные классы модуля</p>
<dl class="docutils">
<dt><strong>class MutexID(object)</strong></dt>
<dd><em>Инкапсуляция над идентификатором экземпляра семафора</em></dd>
<dt><strong>class MutexOwner(object)</strong></dt>
<dd><p class="first"><em>Инкапсуляция над владельцем семафора</em></p>
<p>Содержит следующие методы:</p>
<dl class="last docutils">
<dt><strong>def __init__(self, session_id=&#8217;&#8216;, user_id=0, name=&#8217;&#8216;, login=&#8217;&#8216;, host=&#8217;&#8216;)</strong></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param session_id:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">идентификатор сессии</td>
</tr>
<tr class="field-even field"><th class="field-name">param name:</th><td class="field-body">наименование (например, ФИО) владельца</td>
</tr>
<tr class="field-odd field"><th class="field-name">param user_id:</th><td class="field-body">уникальный идентификатор владельца</td>
</tr>
<tr class="field-even field"><th class="field-name">param login:</th><td class="field-body">логин пользователя</td>
</tr>
<tr class="field-odd field"><th class="field-name">param host:</th><td class="field-body">хост, с которого был выставлен семафор</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt><strong>class SystemOwner(MutexOwner)</strong></dt>
<dd><em>Владелец, представленный в виде системного процесса</em></dd>
<dt><strong>class MutexState</strong></dt>
<dd><p class="first"><em>Класс-перечисление возможных состояний семафора</em></p>
<p>Содержит состояния:</p>
<ul class="last simple">
<li><strong>FREE</strong> - семафор свободен</li>
<li><strong>CAPTURED_BY_ME</strong> - семафор захвачен нами</li>
<li><strong>CAPTURED_BY_OTHER</strong> - семафор захвачен не нами</li>
</ul>
</dd>
<dt><strong>class Mutex(object)</strong></dt>
<dd><p class="first"><em>Класс семафора</em></p>
<p>Содержит следующие методы:</p>
<dl class="last docutils">
<dt><strong>__init__(self, id=MutexID(), owner=MutexOwner(), auto_release=None)</strong></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param id:</th><td class="field-body">id семафора</td>
</tr>
<tr class="field-even field"><th class="field-name">param owner:</th><td class="field-body">владелец семафора</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param auto_release:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">правило автоосвобождения семафора</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>check_owner(self, owner)</strong></dt>
<dd><p class="first"><em>Возвращает True в случае, если указанный в параметрах owner совпадает с владельцем семафора</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param owner:</th><td class="field-body">владелец</td>
</tr>
<tr class="field-even field"><th class="field-name">return:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt><strong>class MutexAutoReleaseRule(object)</strong></dt>
<dd><p class="first"><em>Базовый класс, устанавливающий правила автоматического освобождения(снятия) семафора. Данный механизм необходим для того, чтобы семафоры не оставались в системе &#8220;навсегда&#8221;</em></p>
<p>Содержит следующие методы:</p>
<dl class="last docutils">
<dt><strong>check(self, mutex)</strong></dt>
<dd><p class="first"><em>Основной метод, который возвращает True в случае, если указанный данный семафор может быть освобожден в автоматическом режиме</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mutex:</th><td class="field-body">семафор</td>
</tr>
<tr class="field-even field"><th class="field-name">type mutex:</th><td class="field-body">объект класса domain.Mutex</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>dump(self)</strong></dt>
<dd><em>Возвращает кортеж из двух элементов для сохранения алгоритма автоматического освобождения семафоров в текстовом виде. Данный метод, будучи переопределенным в дочерних классах, должен вернуть кортеж из двух эелементов (&#8216;код правила&#8217;, &#8216;упакованные параметры срабатывания правила&#8217;)</em></dd>
<dt><strong>restore(self, config)</strong></dt>
<dd><p class="first"><em>Читает информацию о конфигурации условий автаматического освобождения семафоров из текстовой строки.</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param config:</th><td class="field-body">конфигурация</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>get_rule_class(str=&#8217;timeout&#8217;)</strong></dt>
<dd><p class="first"><em>Статический метод. Получает класс правила автоосвобождения</em></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param str:</th><td class="field-body">наименование правила</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt><strong>class TimeoutAutoRelease(MutexAutoReleaseRule)</strong></dt>
<dd><em>Класс, реализующий освобождение семафора на основании превышения времени ожидания.</em></dd>
<dt><strong>class MutexQuery(object)</strong></dt>
<dd><p class="first"><em>Класс, представляющий запрос на получение информации</em></p>
<p>Содержит следующие методы:</p>
<dl class="last docutils">
<dt><strong>__init__(self, filter=&#8217;&#8216;, start=0, offset=-1)</strong></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param filter:</th><td class="field-body">правила фильтрации</td>
</tr>
<tr class="field-even field"><th class="field-name">param start:</th><td class="field-body">индекс начала</td>
</tr>
<tr class="field-odd field"><th class="field-name">param offset:</th><td class="field-body">преращение</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
</div>
<div class="section" id="id6">
<h2>Лицензия<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>Copyright © 2014 ЗАО “БАРС Груп”</p>
<p>Данная лицензия разрешает лицам, получившим копию данного программного обеспечения и сопутствующей документации (в дальнейшем
именуемыми «Программное Обеспечение»), безвозмездно использовать Программное Обеспечение без ограничений, включая неограниченное
право на использование, копирование, изменение, добавление, публикацию, распространение, сублицензирование и/или продажу копий
Программного Обеспечения, также как и лицам, которым предоставляется данное Программное Обеспечение, при соблюдении следующих
условий:</p>
<p>Указанное выше уведомление об авторском праве и данные условия должны быть включены во все копии или значимые части данного
Программного Обеспечения.</p>
<p>ДАННОЕ ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ ПРЕДОСТАВЛЯЕТСЯ «КАК ЕСТЬ», БЕЗ КАКИХ-ЛИБО ГАРАНТИЙ, ЯВНО ВЫРАЖЕННЫХ ИЛИ ПОДРАЗУМЕВАЕМЫХ, ВКЛЮЧАЯ,
НО НЕ ОГРАНИЧИВАЯСЬ ГАРАНТИЯМИ ТОВАРНОЙ ПРИГОДНОСТИ, СООТВЕТСТВИЯ ПО ЕГО КОНКРЕТНОМУ НАЗНАЧЕНИЮ И ОТСУТСТВИЯ НАРУШЕНИЙ ПРАВ.
НИ В КАКОМ СЛУЧАЕ АВТОРЫ ИЛИ ПРАВООБЛАДАТЕЛИ НЕ НЕСУТ ОТВЕТСТВЕННОСТИ ПО ИСКАМ О ВОЗМЕЩЕНИИ УЩЕРБА, УБЫТКОВ ИЛИ ДРУГИХ ТРЕБОВАНИЙ
ПО ДЕЙСТВУЮЩИМ КОНТРАКТАМ, ДЕЛИКТАМ ИЛИ ИНОМУ, ВОЗНИКШИМ ИЗ, ИМЕЮЩИМ ПРИЧИНОЙ ИЛИ СВЯЗАННЫМ С ПРОГРАММНЫМ ОБЕСПЕЧЕНИЕМ ИЛИ
ИСПОЛЬЗОВАНИЕМ ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ ИЛИ ИНЫМИ ДЕЙСТВИЯМИ С ПРОГРАММНЫМ ОБЕСПЕЧЕНИЕМ.</p>
<p>Copyright © 2014 BARS Group</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files
(the &#8220;Software&#8221;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify,
merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED &#8220;AS IS&#8221;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR
IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Общее описание</a><ul>
<li><a class="reference internal" href="#id2">Назначение модуля и основной функционал</a></li>
<li><a class="reference internal" href="#id3">Состав и структура</a><ul>
<li><a class="reference internal" href="#id4">Диаграмма классов</a></li>
<li><a class="reference internal" href="#id5">Структура файлов</a><ul>
<li><a class="reference internal" href="#api-py">api.py</a></li>
<li><a class="reference internal" href="#backends-py">backends.py</a></li>
<li><a class="reference internal" href="#exceptions-py">exceptions.py</a></li>
<li><a class="reference internal" href="#helpers-py">helpers.py</a></li>
<li><a class="reference internal" href="#models-py">models.py</a></li>
<li><a class="reference internal" href="#domain-py">domain.py</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id6">Лицензия</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to m3-mutex&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="installation.html"
                        title="next chapter">Установка</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/common.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="installation.html" title="Установка"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to m3-mutex’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">m3-mutex  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2014, BARS Group.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>