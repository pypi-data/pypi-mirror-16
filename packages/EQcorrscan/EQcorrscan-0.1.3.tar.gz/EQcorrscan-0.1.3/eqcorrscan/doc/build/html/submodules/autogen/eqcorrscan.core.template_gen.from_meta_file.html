

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.2.1.5. eqcorrscan.core.template_gen.from_meta_file &mdash; EQcorrscan 0.1.3rc documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/EQcorrscan_logo.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="EQcorrscan 0.1.3rc documentation" href="../../index.html"/>
        <link rel="up" title="4.2. template_gen" href="../core.template_gen.html"/>
        <link rel="next" title="4.2.1.6. eqcorrscan.core.template_gen.from_sac" href="eqcorrscan.core.template_gen.from_sac.html"/>
        <link rel="prev" title="4.2.1.4. eqcorrscan.core.template_gen.from_contbase" href="eqcorrscan.core.template_gen.from_contbase.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> EQcorrscan
          

          
            
            <img src="../../_static/EQcorrscan_logo.jpg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">1. Introduction to the EQcorrscan package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../updates.html">2. What&#8217;s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">3. EQcorrscan tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../core.html">4. Core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core.bright_lights.html">4.1. bright_lights</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../core.template_gen.html">4.2. template_gen</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../core.template_gen.html#classes-functions">4.2.1. Classes &amp; Functions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.core.template_gen.template_gen.html">4.2.1.1. eqcorrscan.core.template_gen.template_gen</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.core.template_gen.extract_from_stack.html">4.2.1.2. eqcorrscan.core.template_gen.extract_from_stack</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.core.template_gen.from_client.html">4.2.1.3. eqcorrscan.core.template_gen.from_client</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.core.template_gen.from_contbase.html">4.2.1.4. eqcorrscan.core.template_gen.from_contbase</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">4.2.1.5. eqcorrscan.core.template_gen.from_meta_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.core.template_gen.from_sac.html">4.2.1.6. eqcorrscan.core.template_gen.from_sac</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.core.template_gen.from_seishub.html">4.2.1.7. eqcorrscan.core.template_gen.from_seishub</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.core.template_gen.from_sfile.html">4.2.1.8. eqcorrscan.core.template_gen.from_sfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="eqcorrscan.core.template_gen.multi_template_gen.html">4.2.1.9. eqcorrscan.core.template_gen.multi_template_gen</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core.match_filter.html">4.3. match_filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.lag_calc.html">4.4. lag_calc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.subspace.html">4.5. subspace</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../utils.html">5. Utils</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">EQcorrscan</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../core.html">4. Core</a> &raquo;</li>
      
          <li><a href="../core.template_gen.html">4.2. template_gen</a> &raquo;</li>
      
    <li>4.2.1.5. eqcorrscan.core.template_gen.from_meta_file</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/submodules/autogen/eqcorrscan.core.template_gen.from_meta_file.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="eqcorrscan-core-template-gen-from-meta-file">
<h1>4.2.1.5. eqcorrscan.core.template_gen.from_meta_file<a class="headerlink" href="#eqcorrscan-core-template-gen-from-meta-file" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="eqcorrscan.core.template_gen.from_meta_file">
<code class="descclassname">eqcorrscan.core.template_gen.</code><code class="descname">from_meta_file</code><span class="sig-paren">(</span><em>meta_file</em>, <em>st</em>, <em>lowcut</em>, <em>highcut</em>, <em>samp_rate</em>, <em>filt_order</em>, <em>length</em>, <em>prepick</em>, <em>swin</em>, <em>all_horiz=False</em>, <em>delayed=True</em>, <em>plot=False</em>, <em>debug=0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/eqcorrscan/core/template_gen.html#from_meta_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eqcorrscan.core.template_gen.from_meta_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a multiplexed template from a local quakeML file.</p>
<p>Function to generate a template from a local quakeml file     and an obspy.Stream object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>meta_file</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) <span class="dash" /> File containing pick information, can contain         multiple events.  File must be formatted in a way readable by         obspy.core.event.read_events.</li>
<li><strong>st</strong> (<a class="reference external" href="https://docs.obspy.org/packages/autogen/obspy.core.stream.Stream.html#obspy.core.stream.Stream" title="(in ObsPy Documentation (1.0.2) v1.0)"><em>obspy.core.stream.Stream</em></a>) <span class="dash" /> Stream containing waveform data for template (hopefully).         Note that this should be the same length of stream as you will use         for the continuous detection, e.g. if you detect in day-long files,         give this a day-long file!</li>
<li><strong>lowcut</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) <span class="dash" /> Low cut (Hz), if set to None will look in template             defaults file</li>
<li><strong>lowcut</strong> <span class="dash" /> High cut (Hz), if set to None will look in template             defaults file</li>
<li><strong>samp_rate</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) <span class="dash" /> New sampling rate in Hz, if set to None will look in             template defaults file</li>
<li><strong>filt_order</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) <span class="dash" /> Filter level, if set to None will look in             template defaults file</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) <span class="dash" /> Extract length in seconds, if None will look in template             defaults file.</li>
<li><strong>prepick</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) <span class="dash" /> Pre-pick time in seconds</li>
<li><strong>swin</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) <span class="dash" /> Either &#8216;all&#8217;, &#8216;P&#8217; or &#8216;S&#8217;, to select which phases to output.</li>
<li><strong>all_horiz</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) <span class="dash" /> To use both horizontal channels even if there is only         a pick on one of them.  Defaults to False.</li>
<li><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) <span class="dash" /> Level of debugging output, higher=more</li>
<li><strong>plot</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) <span class="dash" /> Display template plots or not</li>
<li><strong>delayed</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) <span class="dash" /> If True, each channel will begin relative to it&#8217;s own         pick-time, if set to False, each channel will begin at the same time.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of obspy.Stream Newly cut templates</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">We suggest giving this function a full day of data, to         ensure templates are generated with <strong>exactly</strong> the same processing         as the continuous data.  Not doing this will result in slightly         reduced cross-correlation values.</p>
</div>
<p class="rubric">Example</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">obspy</span> <span class="k">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">eqcorrscan.core.template_gen</span> <span class="k">import</span> <span class="n">from_meta_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">st</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;eqcorrscan/tests/test_data/WAV/TEST_/&#39;</span> <span class="o">+</span>
<span class="gp">... </span>          <span class="s1">&#39;2013-09-01-0410-35.DFDPC_024_00&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quakeml</span> <span class="o">=</span> <span class="s1">&#39;eqcorrscan/tests/test_data/20130901T041115.xml&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">templates</span> <span class="o">=</span> <span class="n">from_meta_file</span><span class="p">(</span><span class="n">meta_file</span><span class="o">=</span><span class="n">quakeml</span><span class="p">,</span> <span class="n">st</span><span class="o">=</span><span class="n">st</span><span class="p">,</span> <span class="n">lowcut</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">highcut</span><span class="o">=</span><span class="mf">9.0</span><span class="p">,</span> <span class="n">samp_rate</span><span class="o">=</span><span class="mf">20.0</span><span class="p">,</span> <span class="n">filt_order</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">prepick</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">swin</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">all_horiz</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">templates</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="go">15</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="eqcorrscan.core.template_gen.from_sac.html" class="btn btn-neutral float-right" title="4.2.1.6. eqcorrscan.core.template_gen.from_sac" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="eqcorrscan.core.template_gen.from_contbase.html" class="btn btn-neutral" title="4.2.1.4. eqcorrscan.core.template_gen.from_contbase" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, 2016: Calum John Chamberlain &amp; Chet Hopp.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1.3rc',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>