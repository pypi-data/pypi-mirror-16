<html py:extends="master.xhtml" py:strip="True">
<head py:block="head" py:strip="True">
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" py:if="False"/>
    <title py:block="master_title">New Article</title>
    <link rel="stylesheet" type="text/css" media="screen" href="${tg.url('/_pluggable/turbopress/css/style.css')}" />
    <script type="text/javascript" src="${tg.url('/_pluggable/turbopress/ckeditor/ckeditor.js')}"></script>
</head>

<body py:block="body" py:strip="True">
    <div id="turbopress_new_article" class="turbopress">
        <a href="${h.plug_url('turbopress', '/manage/'+blog)}">back to management</a>
        <h1>Edit Article</h1>
        ${form.display(value=value, action=action)}
        <div id="turbopress_attachments">
            <div id="turbopress_attachments_title">
                <span>Attachments</span><em>Drag previews inside the editor to add images</em>
            </div>
            <div>
                ${upload_form.display(value=dict(article=article.uid))}
            </div>
        </div>
    </div>
    <script type="text/javascript">
        CKEDITOR.config.width = "100%";
        CKEDITOR.config.height = 500;
        CKEDITOR.config.toolbar_turbopress = [
                    { name: 'document', items : [ 'Source','-','Save','NewPage','DocProps','Preview','Print','-','Templates' ] },
                    { name: 'clipboard', items : [ 'Cut','Copy','Paste','PasteText','PasteFromWord','-','Undo','Redo' ] },
                    { name: 'editing', items : [ 'Find','Replace','-','SelectAll','-','SpellChecker', 'Scayt' ] },
                    { name: 'forms', items : [ 'Form', 'Checkbox', 'Radio', 'TextField', 'Textarea', 'Select', 'Button', 'ImageButton', 'HiddenField' ] },
                    { name: 'basicstyles', items : [ 'Bold','Italic','Underline','Strike','Subscript','Superscript','-','RemoveFormat' ] },
                    { name: 'paragraph', items : [ 'NumberedList','BulletedList','-','Outdent','Indent','-','Blockquote','CreateDiv','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock','-','BidiLtr','BidiRtl' ] },
                    { name: 'links', items : [ 'Link','Unlink','Anchor' ] },
                    { name: 'insert', items : [ 'Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak','Iframe' ] },
                    { name: 'styles', items : [ 'Styles','Format','Font','FontSize' ] },
                    { name: 'colors', items : [ 'TextColor','BGColor' ] },
                    { name: 'tools', items : [ 'Maximize', 'ShowBlocks','-','About' ] }
                ];
        CKEDITOR.config.toolbar = 'turbopress';
        CKEDITOR.replace('article_content');
    </script>
</body>
</html>
