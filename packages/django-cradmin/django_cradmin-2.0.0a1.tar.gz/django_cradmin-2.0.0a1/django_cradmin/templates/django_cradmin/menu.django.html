{% comment %}
    Includes the cradmin menu. You can make your view not render the menu by
    setting the ``cradmin_hide_menu`` context variable to ``True``.
{% endcomment %}
{% load i18n %}
{% load cradmin_tags %}


{% block pre-menunav %}{% endblock pre-menunav %}

<div id="id_django_cradmin_mainmenu"
        django-cradmin-menu
        class="{% block cssclasses %}menu  {% block modifier-cssclasses %}menu--disable-toggle-{{ request.cradmin_instance.get_menu.get_smallscreen_breakpoint }}{% endblock %}{% endblock %}">
    {% block pre-menu %}{% endblock pre-menu %}

    {% block menutoggle %}
        <button type="button"
                class="menu__toggle  button button--block  button--primary-fill  button--nomargin"
                ng-click="cradminMenuTogglePressed()"
                ng-class="{'button--selected': cradminMenuDisplay}"
                aria-pressed="{% verbatim %}{{ getAriaPressed() }}{% endverbatim %}">
            {% block menutoggle_content %}
                {% trans "Menu" %}
            {% endblock menutoggle_content %}
        </button>
    {% endblock menutoggle %}

    <div class="menu__content" ng-class="{'menu__content--expanded': cradminMenuDisplay}">
        <nav class="navigationtree  navigationtree--{{ request.cradmin_instance.get_menu.get_layout_direction }}-viewheight-{{ request.cradmin_instance.get_menu.get_smallscreen_breakpoint }}  navigationtree--primary">
            {% block menucontent %}
                {% with menu=request.cradmin_instance.get_menu %}
                    {% for menuitem in menu %}
                        {{ menuitem.render|safe }}
                    {% endfor %}
                {% endwith %}
            {% endblock menucontent %}
        </nav>
    </div>

    {% block post-menu %}{% endblock post-menu %}
</div>

{% block post-menunav %}{% endblock post-menunav %}
