<div class="toc">
  {{ toctree(includehidden=True, maxdepth=3, titles_only=true ) }}
</div>
<script>
$( document ).ready(function() {
  // Check for collapsible signaler
  $(':header:contains("[[]]")').html(function (i, t) {
    $(this).addClass('collapsible');
    return t.replace('[[]]', '<span class="hidden"> </span>');
  })
  $('.collapsible').addClass('collapsed');
  $('.collapsible').siblings().slideToggle(0);
  // Remove signaler from referencesâ€”toc and in main
  $('.reference:contains("[[]]")').html(function (i, t) {
    return t.replace('[[]]', '<span class="hidden"> </span>');
  })
  // Make it clickable
  $('.collapsible').click( function() {
    if ($(this).hasClass('collapsed')){
      $(this).removeClass('collapsed');
      $(this).siblings().slideToggle(300);
    } else {
      $(this).addClass('collapsed');
      $(this).siblings().slideToggle(300);
    }
  });
});

function expandAll (){
  $('.collapsible').siblings().slideDown(300);
  $('.collapsible').removeClass('collapsed');
}
function collapseAll (){
  $('.collapsible').siblings().slideUp(300);
  $('.collapsible').addClass('collapsed');
}

</script>



