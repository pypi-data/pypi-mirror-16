<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
  <head>
    <title>Matterhorn - archive</title>
    <link href="/css/styles.css"  type=text/css rel=stylesheet>
    <link href="/css/matterhorn_v2u_embedded.css" type=text/css rel=stylesheet>
    <link href="/css/matterhorn.css" type=text/css rel=stylesheet>

    <script type="text/javascript" src="/js/jquery.js"></script>
    <script type="text/javascript" src="/js/jquery.jeditable.mini.js"></script>
    <script type="text/javascript" src="/admin/js/updater.js"></script>
    <script type="text/javascript" src="/admin/js/forms.js"></script>
  </head>

  <body>
<table width="100%" border="0" cellspacing="0" cellpadding="0" id="topbanner">
  <tr>
    <td valign="bottom" width="1"><a href="http://www.opencastproject.org/project/matterhorn" style="outline-style: none" target="_blank"><img src="/images/matterhorn_logo.png" alt="matterhorn" title="matterhorn main page" border="0"/></a></td>
    <td VALIGN="center" align="center" id="systemdescr"></td>
    <td VALIGN="center" align="right" class="productname">
        Matterhorn    </td>
  </tr>
</table>
      <div class="wrapper">
<div class="role" ><span class="role-name">Administrator</span><a href="/logout.cgi" class="role-logout" id="logout-button"></a></div><div style="height:30px"></div>           <div class="wrapper_content">
      <div id="nav_column">
<div class="category_1"><h1>Channels</h1><style type="text/css">

div.navmenu a.simple {
	color: blue;
	background: none;
    border-bottom:0px dashed blue;
}

</style>

<div class="category_1">
<div class="category_2" id="1"><h1><span style="color:#808080">&nbsp;1.</span> <a id="menu_channel_1" href="/admin/channel1/archive">dce-pr</a></h1>
</div>
<div class="category_2" id="2"><h1><span style="color:#808080">&nbsp;2.</span> <a id="menu_channel_2" href="/admin/channel2/archive">dce-pn</a></h1>
</div>
<div class="category_2" id="3"><h1><span style="color:#808080">&nbsp;3.</span> <a id="menu_channel_3" href="/admin/channel3/archive">dce-live</a></h1>
</div>
<div class="category_2" id="4"><h1><span style="color:#808080">&nbsp;4.</span> <a id="menu_channel_4" href="/admin/channel4/archive">dce-pr</a></h1>
</div>
<div class="navmenu"><a class="simple" href="/admin/add_channel.cgi"><nobr>Add channel</nobr></a></div></div>
</div><div class="category_1"><h1>Recorders</h1><style type="text/css">

div.navmenu a.simple {
	color: blue;
	background: none;
    border-bottom:0px dashed blue;
}

</style>

<div class="category_1"><div class="category_2"><h1><span style="color:#808080">&nbsp;2.</span> <a id="menu_mrecorder_2" href="/admin/recorder2/archive">Recorder 2</a></h1></div><div class="category_2"><h1><span style="color:#808080">&nbsp;3.</span> <a id="menu_mrecorder_3" href="/admin/recorder3/archive">Recorder 3</a></h1></div><div class="category_2"><h1><span style="color:#808080">&nbsp;4.</span> <a id="menu_mrecorder_4" href="/admin/recorder4/archive">Recorder 4</a></h1></div><div class="navmenu"><a class="simple" href="/admin/add_recorder.cgi"><nobr>Add recorder</nobr></a></div></div></div><div class="category_1"><h1>Sources</h1><style type="text/css">

div.navmenu a.simple {
    color: blue;
    background: none;
    border-bottom:0px dashed blue;
}

</style>

<div class="navmenu"><div><a id='menu_dev_D2P280762.hdmi-a' href="/admin/sources/D2P280762.hdmi-a">HDMI-A</a></div><div><a id='menu_dev_D2P280762.hdmi-b' href="/admin/sources/D2P280762.hdmi-b">HDMI-B</a></div><div><a id='menu_dev_D2P280762.sdi-a' href="/admin/sources/D2P280762.sdi-a">SDI-A</a></div><div><a id='menu_dev_D2P280762.sdi-b' href="/admin/sources/D2P280762.sdi-b">SDI-B</a></div><div><a id='menu_dev_D2P280762.vga-a' href="/admin/sources/D2P280762.vga-a">VGA-A</a></div><div><a id='menu_dev_D2P280762.vga-b' href="/admin/sources/D2P280762.vga-b">VGA-B</a></div><div><a id='menu_dev_D2P280762.analog-a' href="/admin/sources/audio_D2P280762.analog-a">Analog-A Audio</a></div><div><a id='menu_dev_D2P280762.analog-b' href="/admin/sources/audio_D2P280762.analog-b">Analog-B Audio</a></div><div><a id='menu_dev_D2P280762.hdmi-a-audio' href="/admin/sources/audio_D2P280762.hdmi-a-audio">HDMI-A Audio</a></div><div><a id='menu_dev_D2P280762.hdmi-b-audio' href="/admin/sources/audio_D2P280762.hdmi-b-audio">HDMI-B Audio</a></div><div><a id='menu_dev_D2P280762.sdi-a-audio' href="/admin/sources/audio_D2P280762.sdi-a-audio">SDI-A Audio</a></div><div><a id='menu_dev_D2P280762.sdi-b-audio' href="/admin/sources/audio_D2P280762.sdi-b-audio">SDI-B Audio</a></div></div></div>        <div class="category_1"><h1>Configuration</h1>
          <div class="navmenu">
          <a href="/admin/mhcfg">Matterhorn Server</a>
          <a href="/admin/afucfg">Automatic File Upload</a>
          <a href="/admin/usbdrivecfg">External USB drive</a>
          <a href="/admin/ftpaccesscfg">FTP Server</a>
          <a href="/admin/upnp">UPnP</a>
          <a href="/admin/networkcfg">Network</a>
          <a href="/admin/timesynccfg">Date and Time</a>
          <a href="/admin/accesscfg">Access passwords</a>
          <a href="/admin/touchscreencfg">Touch Screen</a>
          <a href="/admin/serialcfg">Serial Port</a>
          <a href="/admin/cms">Branding Content</a>
          <a href="/admin/maintenancecfg">Maintenance</a>
          <a href="/admin/diskcheckcfg">Disk check</a>
          <a href="/admin/firmwarecfg">Firmware Upgrade</a>
          <a href="/admin/infocfg">Info</a>
          </div>
        </div>
<div class="category_1"><h1>Internal storage</h1>
Total: 929.85 GB<br/>
Used: 0.10 GB<br/>
Free: 929.76 GB<br/>
<table cellpadding="0" cellspacing="0" id="graph" style="width:100%">
  <tr>
    <td width="0%" id="red_graph"></td>
    <td width="100%" align="center" id="green_graph">100%</td>
  </tr>
</table>
</div>      </div>
      <div id=main_win>
      <div id="global_message_banner"></div>

<link rel="stylesheet" type="text/css" href="/css/archive.css">
<style type="text/css">

.rec_channels li {
	list-style-type: none;
	margin-bottom: 10px;
	margin-left: -2em;
}

.rec_ch_all {
    font-weight:bold;
}

.rec_ch_active {
}

.rec_ch_inactive {
    font-style:italic;
}

</style>

<script type="text/javascript">
var channel = "m4";
</script>
	
<h1><span class='editable_in_place' style='color:#B0B0B0' id='channelname'>Recorder 4</span> &rarr; Recorder</h1>
		<script type="text/javascript">
		
		$(document).ready(function() {
						  var channel = "m4";
						  $('#channelname').editable( '/admin/ajax/rename_channel.cgi',
						  	{
								width : 'none',
								submitdata : {channel: channel},
								callback : function(newname) {
									$('#menu_channel_' + channel).html(newname);
								},
							}
							);
		});
		
		</script>
		<form id="fn_delete" method="POST"><input type="hidden" name="deleteid" value="m4" /><input type="hidden" name="deletemode" value="trash" /><input type="submit" style="left:0; margin:0; position: relative;" value="Delete this recorder" onclick="return confirm_recorder_delete();" /><span id="delete_status" style="padding-left:2em; display:none"></span></form><link rel="stylesheet" href="/css/recorder_buttons.css"><link rel="stylesheet" href="/css/popup.css"><div style="margin: 1em 0"><div id="recstatus" style="margin:1em 0"></div><div id="btn_start" class="button disabled"></div><div id="btn_stop" class="button disabled"></div><div id="btn_reset" class="button disabled"></div></div><script type="text/javascript" src="/js/recorder_buttons.js"></script><h2>Recorder Setup</h2><span id="recorder_channels_form" style="display:none"><h3>Channels</h3><form method="POST"><input name="pfd_form_id" type="hidden" value="recorder_channels"><ul id="rec_channels_all" class="rec_channels"><li class="rec_ch_all"> <input class="channels_all" id="channel_all" type="checkbox" name="rc[]" value="all" >&nbsp;All channels</li></ul><ul id="rec_channels" class="rec_channels"><li class="rec_ch_active"> <input class="channels_sel" id="channel_1" type="checkbox" name="rc[]" value="1" >&nbsp;dce-pr</li><li class="rec_ch_active"> <input class="channels_sel" id="channel_2" type="checkbox" name="rc[]" value="2" checked>&nbsp;dce-pn</li><li class="rec_ch_active"> <input class="channels_sel" id="channel_3" type="checkbox" name="rc[]" value="3" checked>&nbsp;dce-live</li><li class="rec_ch_active"> <input class="channels_sel" id="channel_4" type="checkbox" name="rc[]" value="4" >&nbsp;dce-pr</li></ul><input class="apply_button"  type="submit" value="Apply"></form></span><span id='recording_channels'>Record channel(s): <b>dce-pn</b>, <b>dce-live</b>.&nbsp;&nbsp;(<span id='change_rec_channels' class='pseudo_href'>change</span>)</span><p></p><span id="recording_limits_form" style="display:none"><form name="rec_settings" id="rec_settings" action="" method="POST" onsubmit="forms_prepare_submit('rec_settings'); return true;"><input id="rec_settings_pfd_form_id" name="pfd_form_id" type="hidden" value="rec_settings"><table class="forms_table"><tbody id="rec_limits_form"><tr id="line_timelimit"><td class="forms_tdtitle" valign="top"><nobr>Time limit:</nobr></td><td><select id="timelimit" name="timelimit"><option value="05:00" >5 minutes</option>
<option value="10:00" >10 minutes</option>
<option value="20:00" >20 minutes</option>
<option value="30:00" >30 minutes</option>
<option value="45:00" >45 minutes</option>
<option value="1:00:00" >1 hour</option>
<option value="2:00:00" >2 hours</option>
<option value="3:00:00" >3 hours</option>
<option value="6:00:00"  SELECTED>6 hours</option>
</select></td></tr><tr id="line_sizelimit"><td class="forms_tdtitle" valign="top"><nobr>Size limit:</nobr></td><td><select id="sizelimit" name="sizelimit"><option value="51200" >50 MB</option>
<option value="102400" >100 MB</option>
<option value="204800" >200 MB</option>
<option value="512000" >500 MB</option>
<option value="768000" >750 MB</option>
<option value="1024000" >1 GB</option>
<option value="2000000" >2 GB</option>
<option value="4000000" >4 GB</option>
<option value="8000000" >8 GB</option>
<option value="16000000" >16 GB</option>
<option value="32000000" >32 GB</option>
<option value="64000000"  SELECTED>64 GB</option>
</select></td></tr><tr id="line_output_format"><td class="forms_tdtitle" valign="top"><nobr>File type:</nobr></td><td><select id="output_format" name="output_format"><option value="avi" >AVI</option>
<option value="ts"  SELECTED>MPEG-TS</option>
<option value="mov" >MOV</option>
<option value="mp4" >MP4</option>
</select></td></tr><tr id="line_user_prefix"><td class="forms_tdtitle" valign="top"><nobr>Filename prefix:</nobr></td><td><input id="user_prefix" name="user_prefix" type="text" maxlength="64" size="64" value=""></td></tr><tr id="line_afu_enabled"><td class="forms_tdtitle" valign="top">&nbsp;</td><td><input type="checkbox" name="afu_enabled" id="afu_enabled" value="" checked="checked" />&nbsp;<input type="hidden" name="afu_enabled" id="afu_enabled_unchecked" value="on" /><label style="display:inline; text-decoration:none; font-weight:normal; width:100%; margin-top:0;" for="afu_enabled">Automatic file upload</label></td></tr><tr id="line_afu_fixers"><td class="forms_tdtitle" valign="top">&nbsp;</td><td><span id="afu_fixers" class="forms_warning">Automatic File Upload is not enabled for this device<span id="fix_afu_achive" class="pseudo_href forms_fix_link">to fix it, click here</span><span id="fixed_afu_achive" class="forms_fixed_issue">&mdash; will be fixed</span></span></td></tr><input id="svc_afu_enabled" name="svc_afu_enabled" type="hidden" value="" /><tr id="line_upnp_enabled"><td class="forms_tdtitle" valign="top">&nbsp;</td><td><input type="checkbox" name="upnp_enabled" id="upnp_enabled" value="on"  />&nbsp;<input type="hidden" name="upnp_enabled" id="upnp_enabled_unchecked" value="" /><label style="display:inline; text-decoration:none; font-weight:normal; width:100%; margin-top:0;" for="upnp_enabled">Share via UPnP</label></td></tr><tr id="line_upnp_fixers"><td class="forms_tdtitle" valign="top">&nbsp;</td><td><span id="upnp_fixers" class="forms_warning">UPnP file sharing is not enabled for this device<span id="fix_upnp_archive" class="pseudo_href forms_fix_link">to fix it, click here</span><span id="fixed_upnp_archive" class="forms_fixed_issue">&mdash; will be fixed</span></span></td></tr><input id="svc_upnp_enabled" name="svc_upnp_enabled" type="hidden" value="" /></tbody><tr><td></td><td><input class="apply_button"  id="apply_rec_settings" type="submit" value="Apply"></td></tr></table></form></span><span id='recording_limits'>Recording in <b>MPEG-TS</b> files with file limits: <b>6 hours</b> and <b>64 GB</b>. Included into Automatic File Upload&nbsp;&nbsp;(<span id='change_rec_limits' class='pseudo_href'>change</span>)</span><p></p><h2>Recorded Files</h2><div id="wui-id-no-files-recorder" class="wui-message-banner wui-message-notice"><div class="wui-message-banner-outer"><div class="wui-message-banner-inner">No files recorded on internal storage.</div></div></div>
<script type="text/javascript">


function update_setup_ui()
{
    forms_show_value_fixer('afu_fixers',  $('#afu_enabled').prop('checked'));
    forms_show_value_fixer('upnp_fixers', $('#upnp_enabled').prop('checked'));
}

$('#afu_enabled').change(update_setup_ui);
$('#upnp_enabled').change(update_setup_ui);

$('#change_rec_limits').click( function(){ $('#recording_limits_form').show(); $('#recording_limits').hide(); } );
$('#change_rec_channels').click( function(){ $('#recorder_channels_form').show(); $('#recording_channels').hide(); } );

update_setup_ui();

forms_register_value_fixer('upnp_archive',{svc_upnp_enabled: 'on',});
forms_register_value_fixer('afu_achive',{svc_afu_enabled: 'on',});

function confirm_recorder_delete()
{
    var form = $('#fn_delete');
    var btn  = form.find(':submit');
    var info = form.find('#delete_status');
    
    btn.attr('disabled','disabled');
    info.text('Requesting status...').addClass('in_progress').show();
    
    $.ajax({
        type:'GET',
        dataType: 'json',
        url: '/admin/ajax/get_channel_status.cgi',
        data: { channel: channel, archive: 'all' },
        success: function(data)
        {
            btn.removeAttr('disabled');
            info.hide();
            
            if (data.channel == channel)
            {
                var archive = data.archive;
                var msg = '';
                if (archive.files.count > 0 || archive.afu.count > 0)
                {
                    msg = "Are you sure you want to remove this recorder with and all related recorded files?";
                    msg += "\n * " + archive.files.count + " recorded file(s).";
                    if (archive.afu.count > 0)
                        msg += "\n * " + archive.afu.count + " file(s) queued for Automatic File Upload.";
                    
                    if (archive.profiles.length > 5)
                        msg += "\n * These recordings could have been made using " + archive.profiles.length + " existing configuration preset(s).";
                    else if (archive.profiles.length > 0)
                        msg += "\n * These recordings could have been made when using the following configuration preset(s): " + archive.profiles.join(', ') + ".";
                    
                    msg += "\nYou can't undo this action.";
                }
                else
                {
                    msg = "Are you sure you want to remove this recorder?";
                }
                
                if (confirm(msg))
                {
                    form.submit();
                }
            }
        },
        error : function(e)
        {
            btn.removeAttr('disabled');
            info.text('Failed to retrieve recorder status.').removeClass('in_progress');
        }
    });
    
    // Form will be submitted after processing recorder status
    return false;
}

$('#channel_all').change( function() { enable_channels_selection ( !$('#channel_all').prop('checked') ); } );
function enable_channels_selection(enable)
{
    if ( enable )
        $(".channels_sel").removeAttr("disabled");
    else
        $(".channels_sel").attr("disabled", true);
}

enable_channels_selection ( !$('#channel_all').prop('checked') ); 
    
</script>

<script type="text/javascript" src="/admin/js/archive.js"></script>
<link rel="stylesheet" href="/css/jquery-ui.css" />
<script src="/js/jquery-ui.js"></script>
      </div>
      </div>
      </div>


  </body>
</html>

